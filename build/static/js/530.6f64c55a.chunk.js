"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[530],{4530:(e,a,t)=>{t.r(a),t.d(a,{default:()=>k});var s=t(7313),n=t(2855),o=t(5967),i=t(5662),l=t(2970),r=t(4021),d=t(6367),c=t(1081),v=t(8002),h=t(424),u=t(6417);const m=function(e){let{id:a}=e;const t=(0,d.useMediaQuery)({query:"(min-width: 789px)"}),o=(0,h.s0)(),[m,p,x]=(0,l.Z)({}),[j,_,g]=(0,l.Z)([]);(0,s.useEffect)((()=>{!async function(){const e=await i.Z.get("https://moviea-share.vercel.app/tv/".concat(a));!1!==e.success&&p((()=>(x({...e.data}),m))).then((e=>{g([...e.seasons])}))}()}),[a]);const b=e=>{const t=e.target.dataset.seasonname,s=e.target.dataset.seasonnumber,n=e.target.dataset.seasonposterpath;return c.q.update((e=>{e.tv_name=m.name||m.original_name,e.season_name=t,e.id=a,e.season_poster_path=n,e.season_number=s})),console.log(n),o("/tv/".concat(a,"/season/").concat(s,"/episodes"))};return(0,u.jsxs)("div",{className:"seasonsHolder",children:[(0,u.jsx)("h1",{children:"Seasons"}),t?(0,u.jsx)(r.Z,{dots:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,variableWidth:!0,adaptiveHeight:!1,infinite:!1,focusOnSelect:!0,arrows:!0,children:j.map(((e,a)=>e.episode_count>=1&&e.season_number>=1&&null!==e.poster_path?(0,u.jsxs)("div",{className:"season_holder MovieCard",id:"seasonCard",children:[(0,u.jsx)(v.Z,{src:n.Z.image_api+e.poster_path,id:a,alt:e.season_number,"data-seasonnumber":e.season_number,"data-seasonname":e.name,"data-seasonposterpath":e.poster_path,onClick:b}),(0,u.jsx)("h4",{className:"voteAvarage",children:(0,u.jsx)("span",{children:e.name})})]}):""))}):(0,u.jsx)("div",{className:"row__posters",children:j.map(((e,a)=>e.episode_count>=1&&e.season_number>=1&&null!==e.poster_path?(0,u.jsxs)("div",{className:"season_holder MovieCard",id:"seasonCard",children:[(0,u.jsx)(v.Z,{src:n.Z.image_api+e.poster_path,id:a,alt:e.season_number,"data-seasonnumber":e.season_number,"data-seasonname":e.name,"data-seasonposterpath":e.poster_path,onClick:b}),(0,u.jsx)("h4",{className:"voteAvarage",children:(0,u.jsx)("span",{children:e.name})})]}):""))})]})};var p=t(182),x=t(1709);const j=function(e){var a;let{movie:t}=e;const n=!(null===t||void 0===t||null===(a=t.belongs_to_collection)||void 0===a||!a.id)&&t.belongs_to_collection.id,[o,l]=(0,s.useState)({}),[r,d]=(0,s.useState)([]);return(0,s.useEffect)((()=>{if(!n)return!1;(async()=>{const e=await i.Z.get("https://moviea-share.vercel.app/movie/collection/".concat(n));l(e.data),d(e.data.parts)})()}),[n]),(0,u.jsxs)("div",{className:"collectionHolder",children:[(0,u.jsx)("h1",{children:"Collection"}),(0,u.jsx)("div",{className:"row__posters",children:r.map(((e,a)=>e.vote_average?(0,u.jsx)("div",{onClick:()=>{window.scrollTo(0,0)},children:(0,u.jsx)(x.Z,{movie:e,mediaType:"movie"},a)},a):""))})]})};var _=t(6672),g=t(2916),b=t(5828),y=t(7634),f=t(9625),w=t(2388),N=t(5655),S=t(3749);const k=function(e){let{watchList:a,watchListLen:t,setWatchList:r,setWatchListLen:c}=e;const{type:v,id:x}=(0,h.UO)(),k=(0,d.useMediaQuery)({query:"(max-width: 563px)"}),C=(0,h.s0)(),[Z,T]=(0,s.useState)(""),[W,L]=(0,s.useState)(!1),[U,I]=(0,s.useState)(!1),[A,D]=(0,s.useState)(!1),[H,M]=(0,s.useState)(!1),[E,q]=(0,s.useState)(!1),[F,z,Q]=(0,l.Z)({}),[J,O]=(0,s.useState)(!1),[Y,B]=(0,s.useState)(!1),[G,K]=(0,s.useState)(!0),[P,R]=(0,s.useState)([]),[X,$]=(0,s.useState)(""),[V,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)([]),[se,ne]=(0,s.useState)([]),oe=(null===n.Z||void 0===n.Z?void 0:n.Z.image_api)+(null===F||void 0===F?void 0:F.backdrop_path),ie=(null===n.Z||void 0===n.Z?void 0:n.Z.image_api)+(null===F||void 0===F?void 0:F.poster_path),{title:le,vote_average:re,original_name:de,overview:ce}=F;(0,s.useEffect)((()=>{I(!1),document.documentElement.scrollTop=0,be(0),async function(){B(!0),q("tv"===v);const e=await i.Z.get("https://moviea-share.vercel.app/".concat(v,"/").concat(x));z((()=>(Q({...e.data}),F))).then((e=>{var a,t;(R([...e.genres]),$(e.release_date),"movie"===v)&&ve(e.title,e.title+" "+(null===(t=e.release_date)||void 0===t?void 0:t.substring(0,4)));T(null===(a=e.videos.results[0])||void 0===a?void 0:a.key),null!==e&&void 0!==e&&e.belongs_to_collection?O(!0):O(!1),B(!1)}))}(),ne([])}),[x,v]),(0,s.useEffect)((()=>{""!==a&&a.some((e=>e.movieId===F.id&&e.mediaType===v))&&I(!0)}),[x,F,v]);const ve=async(e,a)=>{function t(e,a,t){return e.split(a,t).join(a).length}K(!0),ee("");try{var s;const a=await i.Z.get("https://moviea-share.vercel.app/movie/files/".concat(e));if("Not Found"!==(null===(s=a.data)||void 0===s?void 0:s.data)){var n,o,l,r,d;const e=null===a||void 0===a?void 0:a.data.data,s={serverName:null===(n=e[0])||void 0===n?void 0:n.serverName,serverUrl:"https://weciimaa.online"+(null===(o=e[0])||void 0===o||null===(l=o.serverUrl)||void 0===l?void 0:l.substring(t(null===(r=e[0])||void 0===r?void 0:r.serverUrl,"/",3)))};e[0]=s,ee((null===(d=e[0])||void 0===d?void 0:d.serverUrl)+"&output=embed"),te(e),ne(a.data.download_links_movies)}}catch(x){var c;console.log(x);const e=await i.Z.get("https://moviea-share.vercel.app/movie/files/".concat(a));if("Not Found"!==(null===(c=e.data)||void 0===c?void 0:c.data)){var v,h,u,m,p;const a=null===e||void 0===e?void 0:e.data.data,s={serverName:null===(v=a[0])||void 0===v?void 0:v.serverName,serverUrl:"https://weciimaa.online"+(null===(h=a[0])||void 0===h||null===(u=h.serverUrl)||void 0===u?void 0:u.substring(t(null===(m=a[0])||void 0===m?void 0:m.serverUrl,"/",3)))};a[0]=s,ee((null===(p=a[0])||void 0===p?void 0:p.serverUrl)+"&output=embed"),te(a),ne(e.data.download_links_movies)}}K(!1)},[he,ue]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=new Image;e.onload=()=>{ue(!0)},e.src=ie}),[ie]);const{user:me,isAuthenticated:pe}=(0,w.D3)(),xe=(0,h.TH)(),[je,_e]=(0,s.useState)(!1),[ge,be]=(0,s.useState)(0);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"all_about",style:{backgroundImage:"url(".concat(oe,")"),minHeight:window.innerHeight-75.2,backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[(0,u.jsxs)(p.q,{children:[(0,u.jsx)("title",{children:le||de}),(0,u.jsx)("meta",{name:"description",content:ce}),(0,u.jsx)("meta",{property:"og:type",content:"website"}),(0,u.jsx)("meta",{property:"og:url",content:"https://moviea.tn"}),(0,u.jsx)("meta",{property:"og:image",content:oe})]}),(0,u.jsx)("div",{className:"cover"}),(0,u.jsxs)("div",{className:"inner_all_about",children:[(0,u.jsxs)("div",{className:"poster_holder",children:[!he&&(0,u.jsx)("div",{className:"posterLoadingSkeleton skeleton-box",children:"Loading..."}),he&&(0,u.jsx)("img",{src:ie,alt:x,loading:"lazy"})]}),(0,u.jsxs)("article",{className:"all_about_text_holder",children:[(0,u.jsxs)("h1",{style:{display:"flex",alignItems:"center",textAlign:"center",rowGap:"7px"},children:[le||de,(0,u.jsxs)("span",{style:{fontSize:".7em",opacity:".7",marginLeft:"5px",display:"flex",alignItems:"center"},children:["("," ",Math.round(10*re)/10,(0,u.jsx)(_.QJe,{height:"15px"})," ",")"]}),(0,u.jsx)("span",{style:{fontSize:".7em",opacity:".7",marginLeft:"5px"},children:X?"( ".concat(X.substring(0,4)," )"):""})]}),(0,u.jsx)("div",{className:"genresHlder",children:P.map(((e,a)=>(0,u.jsxs)("span",{className:"genre",onClick:()=>C("/discover/genre/".concat(e.id,"/").concat(e.name)),children:[e.name," "]},a)))}),E&&(0,u.jsxs)("h3",{className:"",children:[(0,u.jsxs)("span",{children:["number of seasons ",(0,u.jsx)("span",{children:null===F||void 0===F?void 0:F.number_of_seasons})," "]}),(0,u.jsxs)("span",{children:["episodes number ",(0,u.jsx)("span",{children:null===F||void 0===F?void 0:F.number_of_episodes})," "]})]}),!k&&(0,u.jsx)("p",{children:ce}),k&&(0,u.jsx)(f.Z,{text:ce,max:120}),(0,u.jsxs)("div",{className:"all_about_buttons_row",children:[!E&&(0,u.jsxs)("button",{id:"Trailer",onClick:()=>{D(!0),0==ge&&(be(1),(async()=>{const e=new Date,a=async()=>{if((new Date-e)/1e3>480&&pe&&me){var t,s,n,o,i,l;const e=(0,S.JU)(N.db,"users",null===me||void 0===me?void 0:me.sub),a=await(0,S.QT)(e),d={redirectToWatch:xe.pathname,nameWhenTn:"",name:le||de,image:oe};if(null!==(t=a.data())&&void 0!==t&&null!==(s=t.recentlyWatched)&&void 0!==s&&s.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==xe.pathname)))return!1;if(null!==(n=a.data())&&void 0!==n&&n.recentlyWatched)if(null!==(o=a.data())&&void 0!==o&&o.recentlyWatched&&(null===(i=a.data())||void 0===i||null===(l=i.recentlyWatched)||void 0===l?void 0:l.length)<4)await(0,S.r7)(e,{recentlyWatched:(0,S.vr)(d)});else{var r;await(0,S.r7)(e,{recentlyWatched:(0,S.Ab)(null===(r=a.data())||void 0===r?void 0:r.recentlyWatched[0])}),await(0,S.r7)(e,{recentlyWatched:(0,S.vr)(d)})}else await(0,S.pl)(e,{...a.data(),recentlyWatched:[d]});return!0}setTimeout(a,1e3)};a()})())},className:"watchCTA",children:[(0,u.jsx)(g.KCr,{style:{fontSize:"1.2em"}})," Watch"]}),(0,u.jsxs)("button",{id:"Trailer",onClick:()=>L(!0),children:[(0,u.jsx)(g.Dp0,{})," trailer"]}),(0,u.jsxs)("button",{onClick:()=>(async e=>{if(navigator.share)navigator.share({title:"Moviea",text:"Watch ".concat(le," Free"),url:e}).then((()=>_e(!0))).catch((e=>console.log("Error sharing",e)));else try{await navigator.clipboard.writeText(e),_e(!0),console.log("Text copied to clipboard:",e)}catch(a){console.error("Unable to copy text to clipboard:",a)}})("https://moviea-share.vercel.app/share/"+v+"/"+x),children:[je?(0,u.jsx)(g.UgA,{}):(0,u.jsx)(g.C3L,{}),"  Share"]}),(0,u.jsxs)("button",{onClick:()=>C("/casts/".concat(v,"/").concat(x,"/").concat(le||de)),children:[(0,u.jsx)(g.WY8,{})," casts"]}),U?"":(0,u.jsx)("button",{id:"watchList",onClick:e=>{r([...a,{movieId:F.id,mediaType:v||F.media_type}]),localStorage.setItem("watchlist",JSON.stringify(a)),c(t++),e.target.style.display="none"},children:(0,u.jsx)(g.$aX,{})}),!E&&(0,u.jsxs)("button",{id:"downloadMovieButton",onClick:()=>M(!0),children:[(0,u.jsx)(g._hL,{}),"Download"]})]})]})]}),W&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>L(!1),children:(0,u.jsx)("div",{className:"youtube_vedio_holder",children:(0,u.jsx)(o.Z,{videoId:Z,opts:{width:"100%",height:"400px"}})})}),A&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>D(!1),children:(0,u.jsxs)("main",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[(0,u.jsx)("div",{className:"serversHolder",children:ae.map(((e,a)=>(0,u.jsx)("div",{onClick:a=>{a.stopPropagation(),ee(e.serverUrl)},children:null===e||void 0===e?void 0:e.serverName},a)))}),(0,u.jsx)("iframe",{title:"film",src:V||"https://vidsrc.me/embed/".concat(x,"/color-15006D"),width:"100%",height:"100%",id:"iframeWatchMovie",frameborder:"0",allowFullScreen:!0})]})}),H&&!E&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>M(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[0===se.length&&!G&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),G&&(0,u.jsx)(y.Z,{color:"inherit"}),se.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})})]}),E&&(0,u.jsx)(m,{id:x}),J&&(0,u.jsx)(j,{movie:F}),(0,u.jsx)(b.Z,{fetchUrl:"https://moviea-share.vercel.app/similar/".concat(v,"/").concat(x),isFirst:!1,isLarge:!1,mediaType:v,setIsLoading:B,title:"Similar"},"545455")]})}},1081:(e,a,t)=>{t.d(a,{q:()=>s});const s=new(t(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);