"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[901],{5901:(e,a,n)=>{n.r(a),n.d(a,{default:()=>b});var o=n(7313),t=n(5662),i=n(2855),d=n(6672),s=n(9768),l=n(2388),c=n(5655),r=n(3749),v=n(424),u=n(6417);const h=function(e){let{currentWatchNow:a,embidLink:n,tn:t,nameWhenTn:d,currentEpisode:h,SeName:p}=e;const{season:m,id:x,episode:g}=a,{user:j,isAuthenticated:_}=(0,l.D3)(),w=(0,v.TH)(),[b,y]=(0,o.useState)(0),f="https://vidsrc.me/embed/".concat(x,"/").concat(m,"-").concat(g,"/color-15006D");(0,o.useEffect)((()=>{y(0)}),[a,h]);const S=async()=>{const e=new Date,n=async()=>{if((new Date-e)/1e3>480&&_&&j){var o,s,l,v,u,m;const e=(0,r.JU)(c.db,"users",null===j||void 0===j?void 0:j.sub),n=await(0,r.QT)(e),_={redirectToWatch:w.pathname,nameWhenTn:d,name:p,image:t?null===h||void 0===h?void 0:h.imageUrl:i.Z.image_api+(null===h||void 0===h?void 0:h.still_path),episode:null===a||void 0===a?void 0:a.episode};var x,g;if(null!==(o=n.data())&&void 0!==o&&null!==(s=o.recentlyWatched)&&void 0!==s&&s.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==w.pathname)))await(0,r.r7)(e,{recentlyWatched:(0,r.Ab)(null===(x=n.data())||void 0===x||null===(g=x.recentlyWatched)||void 0===g?void 0:g.find((e=>e.redirectToWatch==w.pathname)))}),await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(_)});else if(null!==(l=n.data())&&void 0!==l&&l.recentlyWatched)if(null!==(v=n.data())&&void 0!==v&&v.recentlyWatched&&(null===(u=n.data())||void 0===u||null===(m=u.recentlyWatched)||void 0===m?void 0:m.length)<4)await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(_)});else{var b;await(0,r.r7)(e,{recentlyWatched:(0,r.Ab)(null===(b=n.data())||void 0===b?void 0:b.recentlyWatched[0])}),await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(_)})}else await(0,r.pl)(e,{...n.data(),recentlyWatched:[_]});return!0}setTimeout(n,1e3)};n()};return(0,u.jsx)("div",{className:"watchEpisodeHolder",children:t?(0,u.jsx)(s.Z,{src:"https://content.shofha.com/shofhacms/getSourceFile?rshosamah=".concat(n),autoPlay:!1,controls:!0,width:"100%",height:"400px",style:{borderRadius:"10px"},className:"hslPlayer",id:"hlsPlayer",onClick:()=>{0==b&&(S(),y(1))}}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("iframe",{src:n||f,width:"100%",height:"100%",allowFullScreen:!0,id:"watchIframe",webkitallowfullscreen:"true",mozallowfullscreen:"true",title:g,onLoad:()=>{S()}})})})};var p=n(2916),m=n(1081),x=n(7029),g=n(6367),j=n(8002),_=n(182);const w=function(e){var a,n,s,l,c,r,w,b,y,f;let{SeName:S,tn:k}=e;const{id:N,seasonNumber:W}=(0,v.UO)(),T=(0,g.useMediaQuery)({query:"(max-width: 563px)"}),E=m.q.useState((e=>e)),[Z,C]=(0,o.useState)([]),[A,D]=(0,o.useState)(1),[O,U]=(0,o.useState)({id:N,season:W,episode:A}),[L,q]=(0,o.useState)(),[F,M]=(0,o.useState)(!1),[I,H]=(0,o.useState)(""),[P,Q]=(0,o.useState)({}),[J,K]=(0,o.useState)(!1);(0,o.useEffect)((()=>{!async function(){if(k){var e,a,n,o;M(!0);const i=await t.Z.get("https://content.shofha.com/api/mobile/contentFiles/".concat(N,"?subscriberId=8765592"),{headers:{authorization:"Bearer c8ij8vntrhlreqv7g8shgqvecj",platform:1}});return Q(i.data),H(null===(e=i.data)||void 0===e?void 0:e.name_en),C(null===(a=i.data)||void 0===a?void 0:a.contentFilesEpisodesDTOs),q(null===(n=i.data)||void 0===n||null===(o=n.contentFilesEpisodesDTOs[0])||void 0===o?void 0:o.id),M(!1),!0}if(m.q.id){const e=await t.Z.get("https://api.themoviedb.org/3/tv/".concat(E.id,"/season/").concat(E.season_number,"?api_key=").concat(i.Z.apiKey));C(e.data.episodes),Q(e.data)}else{const e=await t.Z.get("https://api.themoviedb.org/3/tv/".concat(N,"/season/").concat(W,"?api_key=").concat(i.Z.apiKey));Q(e.data),C(e.data.episodes),G(e.data.download_ep_links),ee(e.data.download_season_links)}}()}),[E]),(0,o.useEffect)((()=>{k||(async()=>{M(!0),q(""),setTimeout((()=>{M(!1)}),3e3);try{var e;const a=await t.Z.get("https://moviea-back-end.onrender.com/tv-show/".concat(S,"/").concat(O.season,"/").concat(O.episode));if("Not Found"!==(null===(e=a.data)||void 0===e?void 0:e.data)){const e=null===a||void 0===a?void 0:a.data.data;q(e+"&output=embed"),G(a.data.download_ep_links),ee(a.data.download_season_links)}else console.log("didnt found the ep"),q("")}catch(a){console.log("didnt found the ep"),q("")}})()}),[O.season,N,O.episode,S]);const Y=e=>{D(e.target.dataset.episodenumber),k&&q(e.target.dataset.contenturl),U({...O,episode:e.target.dataset.episodenumber})},[z,B]=(0,o.useState)(!1),[R,X]=(0,o.useState)(!1),[$,G]=(0,o.useState)([]),[V,ee]=(0,o.useState)([]);return(0,u.jsxs)(u.Fragment,{children:[F&&(0,u.jsx)(x.Z,{}),(0,u.jsxs)(_.q,{children:[(0,u.jsx)("title",{children:(null===P||void 0===P||null===(a=P.contentSEO)||void 0===a?void 0:a.titleArSEO)||"Moviea | Watch Free"}),(0,u.jsx)("meta",{name:"description",content:null===P||void 0===P||null===(n=P.contentSEO)||void 0===n?void 0:n.descriptionArSEO}),(0,u.jsx)("meta",{name:"keywords",content:null===P||void 0===P||null===(s=P.contentSEO)||void 0===s?void 0:s.keywordsArSEO})]}),k&&(0,u.jsx)("article",{className:"headerOfTnTv",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(null===P||void 0===P?void 0:P.previewImageUrl,")")},children:(0,u.jsxs)("div",{className:"innerTnTvArticle",children:[(0,u.jsx)("img",{src:null===P||void 0===P?void 0:P.imageUrl}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{children:[null===P||void 0===P?void 0:P.name_en," ",(0,u.jsxs)("span",{children:["( ",null===P||void 0===P?void 0:P.productionYear," )"]})," ",(0,u.jsxs)("span",{children:["( ",null===P||void 0===P?void 0:P.rating," )"]})]}),(0,u.jsxs)("h2",{children:[" ",(null===P||void 0===P?void 0:P.genre_en)&&(0,u.jsx)("span",{children:null===P||void 0===P?void 0:P.genre_en})," ",(null===P||void 0===P?void 0:P.category_en)&&(0,u.jsxs)("span",{children:[" ",null===P||void 0===P?void 0:P.category_en]})]}),(0,u.jsx)("p",{children:null===P||void 0===P?void 0:P.description_en}),(0,u.jsxs)("div",{className:"all_about_buttons_row",children:[(0,u.jsxs)("button",{onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),K(!0),console.log("Text copied to clipboard:",e)}catch(a){console.error("Unable to copy text to clipboard:",a)}})("https://moviea-share.vercel.app/share/tn/"+N),children:[J?(0,u.jsx)(p.UgA,{}):(0,u.jsx)(p.C3L,{}),"  Share"]}),(0,u.jsxs)("button",{onClick:()=>console.log("working on it \ud83d\ude0a"),children:[(0,u.jsx)(p.$aX,{})," Like"]})]})]})]})}),(0,u.jsx)("h1",{id:"banner",children:k?"Episodes":"Season ".concat(W," ").concat(S)}),z&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>B(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==$&&void 0!==$&&$.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===$||void 0===$?void 0:$.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),R&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>X(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==V&&void 0!==V&&V.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===V||void 0===V?void 0:V.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),(0,u.jsxs)("div",{className:"watchArabicHolder",children:[(0,u.jsxs)("div",{className:"SeasonEpisodes",children:[(0,u.jsx)("h1",{children:k?I:"Season ".concat(W," ").concat(S)}),(0,u.jsx)("div",{className:"column__posters",children:Z.map(((e,a)=>{var n,o;return e.still_path||k?(0,u.jsxs)("div",{className:"MovieCard episode_holder",id:"episodeCard",children:[(0,u.jsx)(j.Z,{src:k?null===e||void 0===e?void 0:e.imageUrl:i.Z.image_api+e.still_path,id:a,alt:k?a+1:e.episode_number,"data-episodenumber":k?a+1:e.episode_number,"data-episodename":k?null===e||void 0===e?void 0:e.name_en:e.name,"data-contentUrl":k?null===e||void 0===e?void 0:e.id:"",onClick:Y}),(0,u.jsxs)("h4",{className:"voteAvarage",children:[(0,u.jsxs)("p",{children:["episode ",e.episode_number||a+1]}),(0,u.jsxs)("span",{children:[k?Math.round(10*(null===(n=Z[A-1])||void 0===n?void 0:n.rating))/10:Math.round(10*(null===(o=Z[A-1])||void 0===o?void 0:o.vote_average))/10,(0,u.jsx)(d.QJe,{})]})]})]},a):""}))})]}),(0,u.jsxs)("div",{className:"watch_now_ep",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(k?null===(c=Z[A-1])||void 0===c?void 0:c.imageUrl:(null===i.Z||void 0===i.Z?void 0:i.Z.image_api)+(null===(l=Z[A-1])||void 0===l?void 0:l.still_path),")")},children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{children:["Episode ",A," ",!T&&!k&&":"+(null===(r=Z[A-1])||void 0===r?void 0:r.name)+" "]}),(0,u.jsxs)("h3",{children:[k?Math.round(10*(null===(w=Z[A-1])||void 0===w?void 0:w.rating))/10:Math.round(10*(null===(b=Z[A-1])||void 0===b?void 0:b.vote_average))/10," ",(0,u.jsx)(d.QJe,{style:{marginLeft:".2em",marginRight:".2em"}})," |"," ",k?null===(y=Z[A-1])||void 0===y?void 0:y.duration:null===(f=Z[A-1])||void 0===f?void 0:f.runtime,"mn"]})]}),(0,u.jsx)(h,{currentWatchNow:O,SeName:S,embidLink:L,tn:k,nameWhenTn:I,currentEpisode:Z[A]}),!k&&(0,u.jsxs)("div",{className:"DownloadTvButtonsHolder",children:[(0,u.jsxs)("button",{onClick:()=>B(!0),children:[(0,u.jsx)(p._hL,{}),"Download Episode ",A]}),(0,u.jsxs)("button",{onClick:()=>X(!0),children:[(0,u.jsx)(p._hL,{}),"Download This Season"]})]})]})]})]})};const b=function(e){let{tn:a}=e;const{id:n,seasonNumber:d}=(0,v.UO)(),[s,l]=(0,o.useState)("");return(0,o.useMemo)((()=>{a||async function(){const e=await t.Z.get("https://api.themoviedb.org/3/tv/".concat(n,"?api_key=").concat(i.Z.apiKey));l(e.data.name)}()})),(0,u.jsx)("div",{className:"SeasonEpisodesPage",children:(0,u.jsx)(w,{SeName:s,tn:a})})}},1081:(e,a,n)=>{n.d(a,{q:()=>o});const o=new(n(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);