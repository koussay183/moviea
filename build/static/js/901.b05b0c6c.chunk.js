"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[901],{5901:(e,a,n)=>{n.r(a),n.d(a,{default:()=>b});var t=n(7313),o=n(5662),i=n(2855),s=n(6672),d=n(9768),l=n(2388),r=n(5655),c=n(3749),v=n(424),u=n(6417);const h=function(e){let{currentWatchNow:a,embidLink:n,tn:o,nameWhenTn:s,currentEpisode:h,SeName:p}=e;const{season:m,id:x,episode:j}=a,{user:g,isAuthenticated:_}=(0,l.D3)(),w=(0,v.TH)(),[b,y]=(0,t.useState)(0),f="https://vidsrc.me/embed/".concat(x,"/").concat(m,"-").concat(j,"/color-15006D");(0,t.useEffect)((()=>{y(0)}),[a,h]);const S=async()=>{const e=new Date,n=async()=>{if((new Date-e)/1e3>480&&_&&g){var t,d,l,v,u,m;const e=(0,c.JU)(r.db,"users",null===g||void 0===g?void 0:g.sub),n=await(0,c.QT)(e),_={redirectToWatch:w.pathname,nameWhenTn:s,name:p,image:o?null===h||void 0===h?void 0:h.imageUrl:i.Z.image_api+(null===h||void 0===h?void 0:h.still_path),episode:null===a||void 0===a?void 0:a.episode};var x,j;if(null!==(t=n.data())&&void 0!==t&&null!==(d=t.recentlyWatched)&&void 0!==d&&d.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==w.pathname)))await(0,c.r7)(e,{recentlyWatched:(0,c.Ab)(null===(x=n.data())||void 0===x||null===(j=x.recentlyWatched)||void 0===j?void 0:j.find((e=>e.redirectToWatch==w.pathname)))}),await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(_)});else if(null!==(l=n.data())&&void 0!==l&&l.recentlyWatched)if(null!==(v=n.data())&&void 0!==v&&v.recentlyWatched&&(null===(u=n.data())||void 0===u||null===(m=u.recentlyWatched)||void 0===m?void 0:m.length)<4)await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(_)});else{var b;await(0,c.r7)(e,{recentlyWatched:(0,c.Ab)(null===(b=n.data())||void 0===b?void 0:b.recentlyWatched[0])}),await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(_)})}else await(0,c.pl)(e,{...n.data(),recentlyWatched:[_]});return!0}setTimeout(n,1e3)};n()};return(0,u.jsx)("div",{className:"watchEpisodeHolder",children:(0,u.jsx)("main",{children:o?n&&(0,u.jsx)(d.Z,{src:"https://content.shofha.com/shofhacms/getSourceFile?rshosamah=".concat(n),autoPlay:!1,controls:!0,width:"100%",height:"400px",style:{borderRadius:"10px"},className:"hslPlayer",id:"hlsPlayer",onClick:()=>{0==b&&(S(),y(1))}}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("iframe",{src:f,width:"100%",height:"100%",allowFullScreen:!0,id:"watchIframe",webkitallowfullscreen:"true",mozallowfullscreen:"true",title:j,onLoad:()=>{S()}})})})})};var p=n(2916),m=n(1081),x=n(7029),j=n(6367),g=n(8002),_=n(182);const w=function(e){var a,n,d,l,r,c,w,b,y,f;let{SeName:S,tn:N}=e;const{id:k,seasonNumber:W}=(0,v.UO)(),T=(0,j.useMediaQuery)({query:"(max-width: 563px)"}),E=m.q.useState((e=>e)),[C,Z]=(0,t.useState)([]),[A,D]=(0,t.useState)(1),[O,U]=(0,t.useState)({id:k,season:W,episode:A}),[L,F]=(0,t.useState)(),[M,q]=(0,t.useState)(!1),[H,I]=(0,t.useState)(""),[P,Q]=(0,t.useState)({}),[J,Y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{!async function(){if(N){var e,a,n,t;q(!0);const i=await o.Z.get("https://moviea-share.vercel.app/arabic/files/".concat(k));return Q(i.data),I(null===(e=i.data)||void 0===e?void 0:e.name_en),Z(null===(a=i.data)||void 0===a?void 0:a.contentFilesEpisodesDTOs),F(null===(n=i.data)||void 0===n||null===(t=n.contentFilesEpisodesDTOs[0])||void 0===t?void 0:t.id),q(!1),!0}if(m.q.id){const e=await o.Z.get("https://moviea-share.vercel.app/tv/season/".concat(E.id,"/").concat(E.season_number));Z(e.data.episodes),Q(e.data)}else{const e=await o.Z.get("https://moviea-share.vercel.app/tv/season/".concat(k,"/").concat(W));Q(e.data),Z(e.data.episodes),K(e.data.download_ep_links),ee(e.data.download_season_links)}}()}),[E]),(0,t.useEffect)((()=>{N||(async()=>{q(!0),F(""),setTimeout((()=>{q(!1)}),3e3);try{var e;const a=await o.Z.get("https://moviea-share.vercel.app/tv/files/".concat(S,"/").concat(O.season,"/").concat(O.episode));if("Not Found"!==(null===(e=a.data)||void 0===e?void 0:e.data)){const e=null===a||void 0===a?void 0:a.data.data;F(e+"&output=embed"),K(a.data.download_ep_links),ee(a.data.download_season_links)}else console.log("didnt found the ep"),F("")}catch(a){console.log("didnt found the ep"),F("")}})()}),[O.season,k,O.episode,S]);const R=e=>{D(e.target.dataset.episodenumber),N&&F(e.target.dataset.contenturl),U({...O,episode:e.target.dataset.episodenumber})},[z,B]=(0,t.useState)(!1),[X,$]=(0,t.useState)(!1),[G,K]=(0,t.useState)([]),[V,ee]=(0,t.useState)([]);return(0,u.jsxs)(u.Fragment,{children:[M&&(0,u.jsx)(x.Z,{}),(0,u.jsxs)(_.q,{children:[(0,u.jsx)("title",{children:(null===P||void 0===P||null===(a=P.contentSEO)||void 0===a?void 0:a.titleArSEO)||"Moviea | Watch Free"}),(0,u.jsx)("meta",{name:"description",content:null===P||void 0===P||null===(n=P.contentSEO)||void 0===n?void 0:n.descriptionArSEO}),(0,u.jsx)("meta",{name:"keywords",content:null===P||void 0===P||null===(d=P.contentSEO)||void 0===d?void 0:d.keywordsArSEO})]}),N&&(0,u.jsx)("article",{className:"headerOfTnTv",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(null===P||void 0===P?void 0:P.previewImageUrl,")")},children:(0,u.jsxs)("div",{className:"innerTnTvArticle",children:[(0,u.jsx)("img",{src:null===P||void 0===P?void 0:P.imageUrl}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{children:[null===P||void 0===P?void 0:P.name_en," ",(0,u.jsxs)("span",{children:["( ",null===P||void 0===P?void 0:P.productionYear," )"]})," ",(0,u.jsxs)("span",{children:["( ",null===P||void 0===P?void 0:P.rating," )"]})]}),(0,u.jsxs)("h2",{children:[" ",(null===P||void 0===P?void 0:P.genre_en)&&(0,u.jsx)("span",{children:null===P||void 0===P?void 0:P.genre_en})," ",(null===P||void 0===P?void 0:P.category_en)&&(0,u.jsxs)("span",{children:[" ",null===P||void 0===P?void 0:P.category_en]})]}),(0,u.jsx)("p",{children:null===P||void 0===P?void 0:P.description_en}),(0,u.jsxs)("div",{className:"all_about_buttons_row",children:[(0,u.jsxs)("button",{onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),Y(!0),console.log("Text copied to clipboard:",e)}catch(a){console.error("Unable to copy text to clipboard:",a)}})("https://moviea-share.vercel.app/share/tn/"+k),children:[J?(0,u.jsx)(p.UgA,{}):(0,u.jsx)(p.C3L,{}),"  Share"]}),(0,u.jsxs)("button",{onClick:()=>console.log("working on it \ud83d\ude0a"),children:[(0,u.jsx)(p.$aX,{})," Like"]})]})]})]})}),(0,u.jsx)("h1",{id:"banner",children:N?"Episodes":"Season ".concat(W," ").concat(S)}),z&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>B(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==G&&void 0!==G&&G.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===G||void 0===G?void 0:G.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),X&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>$(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==V&&void 0!==V&&V.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===V||void 0===V?void 0:V.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),(0,u.jsxs)("div",{className:"watchArabicHolder",children:[(0,u.jsxs)("div",{className:"SeasonEpisodes",children:[(0,u.jsx)("h1",{children:N?H:"Season ".concat(W," ").concat(S)}),(0,u.jsx)("div",{className:"column__posters",children:C.map(((e,a)=>{var n,t;return e.still_path||N?(0,u.jsxs)("div",{className:"MovieCard episode_holder",id:"episodeCard",children:[(0,u.jsx)(g.Z,{src:N?null===e||void 0===e?void 0:e.imageUrl:i.Z.image_api+e.still_path,id:a,alt:N?a+1:e.episode_number,"data-episodenumber":N?a+1:e.episode_number,"data-episodename":N?null===e||void 0===e?void 0:e.name_en:e.name,"data-contentUrl":N?null===e||void 0===e?void 0:e.id:"",onClick:R}),(0,u.jsxs)("h4",{className:"voteAvarage",children:[(0,u.jsxs)("p",{children:["episode ",e.episode_number||a+1]}),(0,u.jsxs)("span",{children:[N?Math.round(10*(null===(n=C[A-1])||void 0===n?void 0:n.rating))/10:Math.round(10*(null===(t=C[A-1])||void 0===t?void 0:t.vote_average))/10,(0,u.jsx)(s.QJe,{})]})]})]},a):""}))})]}),(0,u.jsxs)("div",{className:"watch_now_ep",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(N?null===(r=C[A-1])||void 0===r?void 0:r.imageUrl:(null===i.Z||void 0===i.Z?void 0:i.Z.image_api)+(null===(l=C[A-1])||void 0===l?void 0:l.still_path),")")},children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{children:["Episode ",A," ",!T&&!N&&":"+(null===(c=C[A-1])||void 0===c?void 0:c.name)+" "]}),(0,u.jsxs)("h3",{children:[N?Math.round(10*(null===(w=C[A-1])||void 0===w?void 0:w.rating))/10:Math.round(10*(null===(b=C[A-1])||void 0===b?void 0:b.vote_average))/10," ",(0,u.jsx)(s.QJe,{style:{marginLeft:".2em",marginRight:".2em"}})," |"," ",N?null===(y=C[A-1])||void 0===y?void 0:y.duration:null===(f=C[A-1])||void 0===f?void 0:f.runtime,"mn"]})]}),(0,u.jsx)(h,{currentWatchNow:O,SeName:S,embidLink:L,tn:N,nameWhenTn:H,currentEpisode:C[A]}),!N&&(0,u.jsxs)("div",{className:"DownloadTvButtonsHolder",children:[(0,u.jsxs)("button",{onClick:()=>B(!0),children:[(0,u.jsx)(p._hL,{}),"Download Episode ",A]}),(0,u.jsxs)("button",{onClick:()=>$(!0),children:[(0,u.jsx)(p._hL,{}),"Download This Season"]})]})]})]})]})};const b=function(e){let{tn:a}=e;const{id:n,seasonNumber:i}=(0,v.UO)(),[s,d]=(0,t.useState)("");return(0,t.useMemo)((()=>{a||async function(){const e=await o.Z.get("https://moviea-share.vercel.app/tv/".concat(n));d(e.data.name)}()})),(0,u.jsx)("div",{className:"SeasonEpisodesPage",children:(0,u.jsx)(w,{SeName:s,tn:a})})}},1081:(e,a,n)=>{n.d(a,{q:()=>t});const t=new(n(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);