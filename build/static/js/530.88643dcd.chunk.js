"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[530],{4530:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var s=t(7313),n=t(2855),o=t(5967),i=t(5662),l=t(2970),c=t(4021),d=t(6367),r=t(1081),u=t(8002),h=t(424),p=t(6417);const m=function(e){let{id:a}=e;const t=(0,d.useMediaQuery)({query:"(min-width: 789px)"}),o=(0,h.s0)(),[m,v,x]=(0,l.Z)({}),[_,j,g]=(0,l.Z)([]);(0,s.useEffect)((()=>{!async function(){const e=await i.Z.get("https://api.themoviedb.org/3/tv/".concat(a,"?api_key=").concat("20108f1c4ed38f7457c479849a9999cc"));!1!==e.success&&v((()=>(x({...e.data}),m))).then((e=>{g([...e.seasons])}))}()}),[a]);const b=e=>{const t=e.target.dataset.seasonname,s=e.target.dataset.seasonnumber,n=e.target.dataset.seasonposterpath;return r.q.update((e=>{e.tv_name=m.name||m.original_name,e.season_name=t,e.id=a,e.season_poster_path=n,e.season_number=s})),console.log(n),o("/tv/".concat(a,"/season/").concat(s,"/episodes"))};return(0,p.jsxs)("div",{className:"seasonsHolder",children:[(0,p.jsx)("h1",{children:"Seasons"}),t?(0,p.jsx)(c.Z,{dots:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,variableWidth:!0,adaptiveHeight:!1,infinite:!1,focusOnSelect:!0,arrows:!0,children:_.map(((e,a)=>e.episode_count>=1&&e.season_number>=1&&null!==e.poster_path?(0,p.jsxs)("div",{className:"season_holder MovieCard",id:"seasonCard",children:[(0,p.jsx)(u.Z,{src:n.Z.image_api+e.poster_path,id:a,alt:e.season_number,"data-seasonnumber":e.season_number,"data-seasonname":e.name,"data-seasonposterpath":e.poster_path,onClick:b}),(0,p.jsx)("h4",{className:"voteAvarage",children:(0,p.jsx)("span",{children:e.name})})]}):""))}):(0,p.jsx)("div",{className:"row__posters",children:_.map(((e,a)=>e.episode_count>=1&&e.season_number>=1&&null!==e.poster_path?(0,p.jsxs)("div",{className:"season_holder MovieCard",id:"seasonCard",children:[(0,p.jsx)(u.Z,{src:n.Z.image_api+e.poster_path,id:a,alt:e.season_number,"data-seasonnumber":e.season_number,"data-seasonname":e.name,"data-seasonposterpath":e.poster_path,onClick:b}),(0,p.jsx)("h4",{className:"voteAvarage",children:(0,p.jsx)("span",{children:e.name})})]}):""))})]})};var v=t(182),x=t(1709);const _=function(e){var a;let{movie:t}=e;const o=!(null===t||void 0===t||null===(a=t.belongs_to_collection)||void 0===a||!a.id)&&t.belongs_to_collection.id,[l,c]=(0,s.useState)({}),[d,r]=(0,s.useState)([]);return(0,s.useEffect)((()=>{if(!o)return!1;(async()=>{const e=await i.Z.get("https://api.themoviedb.org/3/collection/".concat(o,"?api_key=").concat(n.Z.apiKey));c(e.data),r(e.data.parts)})()}),[o]),(0,p.jsxs)("div",{className:"collectionHolder",children:[(0,p.jsx)("h1",{children:"Collection"}),(0,p.jsx)("div",{className:"row__posters",children:d.map(((e,a)=>e.vote_average?(0,p.jsx)("div",{onClick:()=>{window.scrollTo(0,0)},children:(0,p.jsx)(x.Z,{movie:e,mediaType:"movie"},a)},a):""))})]})};var j=t(6672),g=t(2916),b=t(5828),y=t(7634),f=t(9625),w=t(2388),S=t(5655),k=t(3749);const N=function(e){let{watchList:a,watchListLen:t,setWatchList:c,setWatchListLen:r}=e;const{type:u,id:x}=(0,h.UO)(),N=(0,d.useMediaQuery)({query:"(max-width: 563px)"}),Z=(0,h.s0)(),[C,T]=(0,s.useState)(""),[W,L]=(0,s.useState)(!1),[I,A]=(0,s.useState)(!1),[z,D]=(0,s.useState)(!1),[H,M]=(0,s.useState)(!1),[q,E]=(0,s.useState)(!1),[U,F,Q]=(0,l.Z)({}),[J,K]=(0,s.useState)(!1),[O,Y]=(0,s.useState)(!1),[B,G]=(0,s.useState)(!0),[R,X]=(0,s.useState)([]),[$,P]=(0,s.useState)(""),[V,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)([]),se=(null===n.Z||void 0===n.Z?void 0:n.Z.image_api)+(null===U||void 0===U?void 0:U.backdrop_path),ne=(null===n.Z||void 0===n.Z?void 0:n.Z.image_api)+(null===U||void 0===U?void 0:U.poster_path),{title:oe,vote_average:ie,original_name:le,overview:ce}=U;(0,s.useEffect)((()=>{A(!1),document.documentElement.scrollTop=0,je(0),async function(){Y(!0),E("tv"===u);const e=await i.Z.get("https://api.themoviedb.org/3/".concat(u,"/").concat(x,"?api_key=").concat("20108f1c4ed38f7457c479849a9999cc","&append_to_response=videos"));F((()=>(Q({...e.data}),U))).then((e=>{var a,t,s;(X([...e.genres]),P(e.release_date),"movie"===u)&&de(e.original_title+" "+(null===(t=e.release_date)||void 0===t?void 0:t.substring(0,4)),e.title+" "+(null===(s=e.release_date)||void 0===s?void 0:s.substring(0,4)));T(null===(a=e.videos.results[0])||void 0===a?void 0:a.key),null!==e&&void 0!==e&&e.belongs_to_collection?K(!0):K(!1),Y(!1)}))}(),te([])}),[x,u]),(0,s.useEffect)((()=>{""!==a&&a.some((e=>e.movieId===U.id&&e.mediaType===u))&&A(!0)}),[x,U,u]);const de=async(e,a)=>{G(!0),ee("");try{var t;const a=await i.Z.get("https://byzantium-abalone-belt.cyclic.app/movie/".concat(e));if("Not Found"!==(null===(t=a.data)||void 0===t?void 0:t.data)){const e=null===a||void 0===a?void 0:a.data.data;ee(e+"&output=embed"),te(a.data.download_links_movies)}}catch(n){var s;console.log(n);const e=await i.Z.get("https://byzantium-abalone-belt.cyclic.app/movie/".concat(a));if("Not Found"!==(null===(s=e.data)||void 0===s?void 0:s.data)){const a=null===e||void 0===e?void 0:e.data.data;ee(a+"&output=embed"),te(e.data.download_links_movies)}}G(!1)},[re,ue]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=new Image;e.onload=()=>{ue(!0)},e.src=ne}),[ne]);const{user:he,isAuthenticated:pe}=(0,w.D3)(),me=(0,h.TH)(),[ve,xe]=(0,s.useState)(!1),[_e,je]=(0,s.useState)(0);return(0,p.jsxs)("main",{children:[(0,p.jsxs)("div",{className:"all_about",style:{backgroundImage:"url(".concat(se,")"),minHeight:window.innerHeight-75.2,backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[(0,p.jsxs)(v.q,{children:[(0,p.jsx)("title",{children:oe||le}),(0,p.jsx)("meta",{name:"description",content:ce}),(0,p.jsx)("meta",{property:"og:type",content:"website"}),(0,p.jsx)("meta",{property:"og:url",content:"https://moviea.tn"}),(0,p.jsx)("meta",{property:"og:image",content:se})]}),(0,p.jsx)("div",{className:"cover"}),(0,p.jsxs)("div",{className:"inner_all_about",children:[(0,p.jsxs)("div",{className:"poster_holder",children:[!re&&(0,p.jsx)("div",{className:"posterLoadingSkeleton skeleton-box",children:"Loading..."}),re&&(0,p.jsx)("img",{src:ne,alt:x,loading:"lazy"})]}),(0,p.jsxs)("article",{className:"all_about_text_holder",children:[(0,p.jsxs)("h1",{style:{display:"flex",alignItems:"center",textAlign:"center",rowGap:"7px"},children:[oe||le,(0,p.jsxs)("span",{style:{fontSize:".7em",opacity:".7",marginLeft:"5px",display:"flex",alignItems:"center"},children:["("," ",Math.round(10*ie)/10,(0,p.jsx)(j.QJe,{height:"15px"})," ",")"]}),(0,p.jsx)("span",{style:{fontSize:".7em",opacity:".7",marginLeft:"5px"},children:$?"( ".concat($.substring(0,4)," )"):""})]}),(0,p.jsx)("div",{className:"genresHlder",children:R.map(((e,a)=>(0,p.jsxs)("span",{className:"genre",onClick:()=>Z("/discover/genre/".concat(e.id,"/").concat(e.name)),children:[e.name," "]},a)))}),q&&(0,p.jsxs)("h3",{className:"",children:[(0,p.jsxs)("span",{children:["number of seasons ",(0,p.jsx)("span",{children:null===U||void 0===U?void 0:U.number_of_seasons})," "]}),(0,p.jsxs)("span",{children:["episodes number ",(0,p.jsx)("span",{children:null===U||void 0===U?void 0:U.number_of_episodes})," "]})]}),!N&&(0,p.jsx)("p",{children:ce}),N&&(0,p.jsx)(f.Z,{text:ce,max:120}),(0,p.jsxs)("div",{className:"all_about_buttons_row",children:[!q&&(0,p.jsxs)("button",{id:"Trailer",onClick:()=>{D(!0),0==_e&&(je(1),(async()=>{const e=new Date,a=async()=>{if((new Date-e)/1e3>480&&pe&&he){var t,s,n,o,i,l;const e=(0,k.JU)(S.db,"users",null===he||void 0===he?void 0:he.sub),a=await(0,k.QT)(e),d={redirectToWatch:me.pathname,nameWhenTn:"",name:oe||le,image:se};if(null!==(t=a.data())&&void 0!==t&&null!==(s=t.recentlyWatched)&&void 0!==s&&s.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==me.pathname)))return!1;if(null!==(n=a.data())&&void 0!==n&&n.recentlyWatched)if(null!==(o=a.data())&&void 0!==o&&o.recentlyWatched&&(null===(i=a.data())||void 0===i||null===(l=i.recentlyWatched)||void 0===l?void 0:l.length)<4)await(0,k.r7)(e,{recentlyWatched:(0,k.vr)(d)});else{var c;await(0,k.r7)(e,{recentlyWatched:(0,k.Ab)(null===(c=a.data())||void 0===c?void 0:c.recentlyWatched[0])}),await(0,k.r7)(e,{recentlyWatched:(0,k.vr)(d)})}else await(0,k.pl)(e,{...a.data(),recentlyWatched:[d]});return!0}setTimeout(a,1e3)};a()})())},className:"watchCTA",children:[(0,p.jsx)(g.KCr,{style:{fontSize:"1.2em"}})," Watch"]}),(0,p.jsxs)("button",{id:"Trailer",onClick:()=>L(!0),children:[(0,p.jsx)(g.Dp0,{})," trailer"]}),(0,p.jsxs)("button",{onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),xe(!0),console.log("Text copied to clipboard:",e)}catch(a){console.error("Unable to copy text to clipboard:",a)}})("https://moviea-share.vercel.app/share/movie/"+x),children:[ve?(0,p.jsx)(g.UgA,{}):(0,p.jsx)(g.C3L,{}),"  Share"]}),(0,p.jsxs)("button",{onClick:()=>Z("/casts/".concat(u,"/").concat(x,"/").concat(oe||le)),children:[(0,p.jsx)(g.WY8,{})," casts"]}),I?"":(0,p.jsx)("button",{id:"watchList",onClick:e=>{c([...a,{movieId:U.id,mediaType:u||U.media_type}]),localStorage.setItem("watchlist",JSON.stringify(a)),r(t++),e.target.style.display="none"},children:(0,p.jsx)(g.$aX,{})}),!q&&(0,p.jsxs)("button",{id:"downloadMovieButton",onClick:()=>M(!0),children:[(0,p.jsx)(g._hL,{}),"Download"]})]})]})]}),W&&(0,p.jsx)("div",{className:"trailer_popup",onClick:()=>L(!1),children:(0,p.jsx)("div",{className:"youtube_vedio_holder",children:(0,p.jsx)(o.Z,{videoId:C,opts:{width:"100%",height:"400px"}})})}),z&&(0,p.jsx)("div",{className:"trailer_popup",onClick:()=>D(!1),children:(0,p.jsx)("iframe",{title:"film",src:V||"https://vidsrc.me/embed/".concat(x,"/color-15006D"),width:"100%",height:"100%",id:"iframeWatchMovie",frameborder:"0",allowFullScreen:!0})}),H&&!q&&(0,p.jsx)("div",{className:"trailer_popup",onClick:()=>M(!1),children:(0,p.jsxs)("div",{className:"download_buttons_holder",children:[0===ae.length&&!B&&(0,p.jsx)("span",{children:"Download Links Not Available Yet"}),B&&(0,p.jsx)(y.Z,{color:"inherit"}),ae.map((e=>(0,p.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})})]}),q&&(0,p.jsx)(m,{id:x}),J&&(0,p.jsx)(_,{movie:U}),(0,p.jsx)(b.Z,{fetchUrl:"/".concat(u,"/").concat(x,"/similar?api_key=").concat(n.Z.apiKey),isFirst:!1,isLarge:!1,mediaType:u,setIsLoading:Y,title:"Similar"},"545455")]})}},1081:(e,a,t)=>{t.d(a,{q:()=>s});const s=new(t(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);