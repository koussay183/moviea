"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[901],{5901:(e,a,n)=>{n.r(a),n.d(a,{default:()=>b});var o=n(7313),i=n(5662),t=n(2855),d=n(6672),l=n(9768),s=n(2388),r=n(5655),c=n(3749),v=n(424),u=n(6417);const h=function(e){let{currentWatchNow:a,embidLink:n,tn:i,nameWhenTn:d,currentEpisode:h,SeName:m}=e;const{season:p,id:x,episode:g}=a,{user:j,isAuthenticated:w}=(0,s.D3)(),_=(0,v.TH)(),[b,y]=(0,o.useState)(0),f="https://vidsrc.me/embed/".concat(x,"/").concat(p,"-").concat(g,"/color-15006D");(0,o.useEffect)((()=>{y(0)}),[a,h]);const S=async()=>{const e=new Date,n=async()=>{if((new Date-e)/1e3>480&&w&&j){var o,l,s,v,u,p;const e=(0,c.JU)(r.db,"users",null===j||void 0===j?void 0:j.sub),n=await(0,c.QT)(e),w={redirectToWatch:_.pathname,nameWhenTn:d,name:m,image:i?null===h||void 0===h?void 0:h.imageUrl:t.Z.image_api+(null===h||void 0===h?void 0:h.still_path),episode:null===a||void 0===a?void 0:a.episode};var x,g;if(null!==(o=n.data())&&void 0!==o&&null!==(l=o.recentlyWatched)&&void 0!==l&&l.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==_.pathname)))await(0,c.r7)(e,{recentlyWatched:(0,c.Ab)(null===(x=n.data())||void 0===x||null===(g=x.recentlyWatched)||void 0===g?void 0:g.find((e=>e.redirectToWatch==_.pathname)))}),await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(w)});else if(null!==(s=n.data())&&void 0!==s&&s.recentlyWatched)if(null!==(v=n.data())&&void 0!==v&&v.recentlyWatched&&(null===(u=n.data())||void 0===u||null===(p=u.recentlyWatched)||void 0===p?void 0:p.length)<4)await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(w)});else{var b;await(0,c.r7)(e,{recentlyWatched:(0,c.Ab)(null===(b=n.data())||void 0===b?void 0:b.recentlyWatched[0])}),await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(w)})}else await(0,c.pl)(e,{...n.data(),recentlyWatched:[w]});return!0}setTimeout(n,1e3)};n()};return(0,u.jsx)("div",{className:"watchEpisodeHolder",children:(0,u.jsx)("main",{style:{width:"100%",height:"100%"},children:i?n&&(0,u.jsx)(l.Z,{src:"https://content.shofha.com/shofhacms/getSourceFile?rshosamah=".concat(n),autoPlay:!1,controls:!0,width:"100%",height:"400px",style:{borderRadius:"10px"},className:"hslPlayer",id:"hlsPlayer",onClick:()=>{0==b&&(S(),y(1))}}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("iframe",{src:f,width:"100%",height:"100%",allowFullScreen:!0,id:"watchIframe",webkitallowfullscreen:"true",mozallowfullscreen:"true",title:g,onLoad:()=>{S()}})})})})};var m=n(2916),p=n(1081),x=n(7029),g=n(6367),j=n(8002),w=n(182);const _=function(e){var a,n,l,s,r,c,_,b,y,f,S;let{SeName:N,tn:k}=e;const{id:W,seasonNumber:E}=(0,v.UO)(),T=(0,g.useMediaQuery)({query:"(max-width: 563px)"}),C=p.q.useState((e=>e)),[Z,A]=(0,o.useState)([]),[D,O]=(0,o.useState)(1),[U,L]=(0,o.useState)({id:W,season:E,episode:D}),[F,M]=(0,o.useState)(),[q,H]=(0,o.useState)(!1),[I,P]=(0,o.useState)(""),[Q,J]=(0,o.useState)({}),[Y,R]=(0,o.useState)(!1);(0,o.useEffect)((()=>{!async function(){if(k){var e,a,n,o;H(!0);const t=await i.Z.get("/arabic/files/".concat(W));return J(t.data),P(null===(e=t.data)||void 0===e?void 0:e.name_en),A(null===(a=t.data)||void 0===a?void 0:a.contentFilesEpisodesDTOs),M(null===(n=t.data)||void 0===n||null===(o=n.contentFilesEpisodesDTOs[0])||void 0===o?void 0:o.id),H(!1),!0}if(p.q.id){const e=await i.Z.get("/tv/season/".concat(C.id,"/").concat(C.season_number));A(e.data.episodes),J(e.data)}else{const e=await i.Z.get("/tv/season/".concat(W,"/").concat(E));J(e.data),A(e.data.episodes),V(e.data.download_ep_links),ae(e.data.download_season_links)}}()}),[C]),(0,o.useEffect)((()=>{k||(async()=>{H(!0),M(""),setTimeout((()=>{H(!1)}),3e3);try{var e;const a=await i.Z.get("/tv/files/".concat(N,"/").concat(U.season,"/").concat(U.episode));if("Not Found"!==(null===(e=a.data)||void 0===e?void 0:e.data)){const e=null===a||void 0===a?void 0:a.data.data;M(e+"&output=embed"),V(a.data.download_ep_links),ae(a.data.download_season_links)}else console.log("didnt found the ep"),M("")}catch(a){console.log("didnt found the ep"),M("")}})()}),[U.season,W,U.episode,N]);const z=e=>{O(e.target.dataset.episodenumber),k&&M(e.target.dataset.contenturl),L({...U,episode:e.target.dataset.episodenumber})},[B,X]=(0,o.useState)(!1),[$,G]=(0,o.useState)(!1),[K,V]=(0,o.useState)([]),[ee,ae]=(0,o.useState)([]);return(0,u.jsxs)(u.Fragment,{children:[q&&(0,u.jsx)(x.Z,{}),(0,u.jsxs)(w.q,{children:[(0,u.jsx)("title",{children:(null===Q||void 0===Q||null===(a=Q.contentSEO)||void 0===a?void 0:a.titleArSEO)||"Moviea | Watch Free"}),(0,u.jsx)("meta",{name:"description",content:null===Q||void 0===Q||null===(n=Q.contentSEO)||void 0===n?void 0:n.descriptionArSEO}),(0,u.jsx)("meta",{name:"keywords",content:null===Q||void 0===Q||null===(l=Q.contentSEO)||void 0===l?void 0:l.keywordsArSEO})]}),k&&(0,u.jsx)("article",{className:"headerOfTnTv",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(null===Q||void 0===Q?void 0:Q.previewImageUrl,")")},children:(0,u.jsxs)("div",{className:"innerTnTvArticle",children:[(0,u.jsx)("img",{src:null===Q||void 0===Q?void 0:Q.imageUrl}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{children:[null===Q||void 0===Q?void 0:Q.name_en," ",(0,u.jsxs)("span",{children:["( ",null===Q||void 0===Q?void 0:Q.productionYear," )\xa0 ( ",null===Q||void 0===Q?void 0:Q.rating," )"]})]}),(0,u.jsxs)("h2",{children:[" ",(null===Q||void 0===Q?void 0:Q.genre_en)&&(0,u.jsx)("span",{children:null===Q||void 0===Q?void 0:Q.genre_en})," ",(null===Q||void 0===Q?void 0:Q.category_en)&&(0,u.jsxs)("span",{children:[" ",null===Q||void 0===Q?void 0:Q.category_en]})]}),(0,u.jsx)("p",{children:null===Q||void 0===Q?void 0:Q.description_en}),(0,u.jsxs)("div",{className:"all_about_buttons_row",children:[(0,u.jsxs)("button",{onClick:()=>(async e=>{if(navigator.share)navigator.share({title:"Moviea",text:"Watch Free",url:e}).then((()=>R(!0))).catch((e=>console.log("Error sharing",e)));else try{await navigator.clipboard.writeText(e),R(!0),console.log("Text copied to clipboard:",e)}catch(a){console.error("Unable to copy text to clipboard:",a)}})("https://moviea-share.onrender.com/share/tn/"+W),children:[Y?(0,u.jsx)(m.UgA,{}):(0,u.jsx)(m.C3L,{}),"  Share"]}),(0,u.jsxs)("button",{onClick:()=>console.log("working on it \ud83d\ude0a"),children:[(0,u.jsx)(m.$aX,{})," Like"]})]})]})]})}),(0,u.jsx)("h1",{id:"banner",children:k?"Episodes":"Season ".concat(E," ").concat(N)}),B&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>X(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==K&&void 0!==K&&K.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===K||void 0===K?void 0:K.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),$&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>G(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==ee&&void 0!==ee&&ee.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===ee||void 0===ee?void 0:ee.map((e=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),(0,u.jsxs)("div",{className:"watchArabicHolder",children:[(0,u.jsxs)("div",{className:"SeasonEpisodes",children:[(0,u.jsx)("h1",{children:k?I:"Season ".concat(E," ").concat(N)}),(0,u.jsx)("div",{className:"column__posters",children:Z.map(((e,a)=>{var n,o;return e.still_path||k?(0,u.jsxs)("div",{className:"MovieCard episode_holder",id:"episodeCard",children:[(0,u.jsx)(j.Z,{src:k?(null===e||void 0===e?void 0:e.imageUrl)||(null===e||void 0===e?void 0:e.poster):t.Z.image_api+e.still_path,id:a,alt:k?a+1:e.episode_number,"data-episodenumber":k?a+1:e.episode_number,"data-episodename":k?null===e||void 0===e?void 0:e.name_en:e.name,"data-contentUrl":k?null===e||void 0===e?void 0:e.id:"",onClick:z}),(0,u.jsxs)("h4",{className:"voteAvarage",children:[(0,u.jsxs)("p",{children:["episode ",e.episode_number||a+1]}),(0,u.jsxs)("span",{children:[k?Math.round(10*((null===(n=Z[D-1])||void 0===n?void 0:n.rating)||(null===Q||void 0===Q?void 0:Q.rating)))/10:Math.round(10*(null===(o=Z[D-1])||void 0===o?void 0:o.vote_average))/10,(0,u.jsx)(d.QJe,{})]})]})]},a):""}))})]}),(0,u.jsxs)("div",{className:"watch_now_ep",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(k?(null===(r=Z[D-1])||void 0===r?void 0:r.imageUrl)||(null===(c=Z[D-1])||void 0===c?void 0:c.poster):(null===t.Z||void 0===t.Z?void 0:t.Z.image_api)+(null===(s=Z[D-1])||void 0===s?void 0:s.still_path),")")},children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{children:["Episode ",D," ",!T&&!k&&":"+(null===(_=Z[D-1])||void 0===_?void 0:_.name)+" "]}),(0,u.jsxs)("h3",{children:[k?Math.round(10*(null===(b=Z[D-1])||void 0===b?void 0:b.rating))/10:Math.round(10*(null===(y=Z[D-1])||void 0===y?void 0:y.vote_average))/10," ",(0,u.jsx)(d.QJe,{style:{marginLeft:".2em",marginRight:".2em"}})," |"," ",k?null===(f=Z[D-1])||void 0===f?void 0:f.duration:null===(S=Z[D-1])||void 0===S?void 0:S.runtime,"mn"]})]}),(0,u.jsx)(h,{currentWatchNow:U,SeName:N,embidLink:F,tn:k,nameWhenTn:I,currentEpisode:Z[D]}),!k&&(0,u.jsxs)("div",{className:"DownloadTvButtonsHolder",children:[(0,u.jsxs)("button",{onClick:()=>X(!0),children:[(0,u.jsx)(m._hL,{}),"Download Episode ",D]}),(0,u.jsxs)("button",{onClick:()=>G(!0),children:[(0,u.jsx)(m._hL,{}),"Download This Season"]})]})]})]})]})};const b=function(e){let{tn:a}=e;const{id:n,seasonNumber:t}=(0,v.UO)(),[d,l]=(0,o.useState)("");return(0,o.useMemo)((()=>{a||async function(){const e=await i.Z.get("/tv/".concat(n));l(e.data.name)}()})),(0,u.jsx)("div",{className:"SeasonEpisodesPage",children:(0,u.jsx)(_,{SeName:d,tn:a})})}},1081:(e,a,n)=>{n.d(a,{q:()=>o});const o=new(n(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);