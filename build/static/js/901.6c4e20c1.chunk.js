"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[901],{5901:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var n=t(7313),o=t(5662),i=t(2855),d=t(6672),s=t(9768),l=t(2388),c=t(5655),r=t(3749),u=t(424),v=t(6417);const h=function(e){let{currentWatchNow:a,embidLink:t,tn:o,nameWhenTn:d,currentEpisode:h,SeName:m}=e;const{season:p,id:w,episode:_}=a,{user:x,isAuthenticated:g}=(0,l.D3)(),j=(0,u.TH)(),[b,y]=(0,n.useState)(0),f="https://vidsrc.me/embed/".concat(w,"/").concat(p,"-").concat(_,"/color-15006D");(0,n.useEffect)((()=>{y(0)}),[a,h]);const S=async()=>{const e=new Date,t=async()=>{if((new Date-e)/1e3>480&&g&&x){var n,s,l,u,v,p;const e=(0,r.JU)(c.db,"users",null===x||void 0===x?void 0:x.sub),t=await(0,r.QT)(e),g={redirectToWatch:j.pathname,nameWhenTn:d,name:m,image:o?null===h||void 0===h?void 0:h.imageUrl:i.Z.image_api+(null===h||void 0===h?void 0:h.still_path),episode:null===a||void 0===a?void 0:a.episode};var w,_;if(null!==(n=t.data())&&void 0!==n&&null!==(s=n.recentlyWatched)&&void 0!==s&&s.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==j.pathname)))await(0,r.r7)(e,{recentlyWatched:(0,r.Ab)(null===(w=t.data())||void 0===w||null===(_=w.recentlyWatched)||void 0===_?void 0:_.find((e=>e.redirectToWatch==j.pathname)))}),await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(g)});else if(null!==(l=t.data())&&void 0!==l&&l.recentlyWatched)if(null!==(u=t.data())&&void 0!==u&&u.recentlyWatched&&(null===(v=t.data())||void 0===v||null===(p=v.recentlyWatched)||void 0===p?void 0:p.length)<4)await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(g)});else{var b;await(0,r.r7)(e,{recentlyWatched:(0,r.Ab)(null===(b=t.data())||void 0===b?void 0:b.recentlyWatched[0])}),await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(g)})}else await(0,r.pl)(e,{...t.data(),recentlyWatched:[g]});return!0}setTimeout(t,1e3)};t()};return(0,v.jsx)("div",{className:"watchEpisodeHolder",children:o?(0,v.jsx)(s.Z,{src:"https://content.shofha.com/shofhacms/getSourceFile?rshosamah=".concat(t),autoPlay:!1,controls:!0,width:"100%",height:"400px",style:{borderRadius:"10px"},className:"hslPlayer",id:"hlsPlayer",onClick:()=>{0==b&&(S(),y(1))}}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("iframe",{src:t||f,width:"100%",height:"100%",allowFullScreen:!0,id:"watchIframe",webkitallowfullscreen:"true",mozallowfullscreen:"true",title:_,onLoad:()=>{S()}})})})};var m=t(2916),p=t(1081),w=t(7029),_=t(6367),x=t(8002),g=t(182);const j=function(e){var a,t,s,l,c,r,j,b,y,f;let{SeName:S,tn:k}=e;const{id:N,seasonNumber:W}=(0,u.UO)(),E=(0,_.useMediaQuery)({query:"(max-width: 563px)"}),Z=p.q.useState((e=>e)),[T,D]=(0,n.useState)([]),[C,O]=(0,n.useState)(1),[q,A]=(0,n.useState)({id:N,season:W,episode:C}),[F,L]=(0,n.useState)(),[M,U]=(0,n.useState)(!1),[P,Q]=(0,n.useState)(""),[H,I]=(0,n.useState)({});(0,n.useEffect)((()=>{!async function(){if(k){var e,a,t,n;U(!0);const i=await o.Z.get("https://content.shofha.com/api/mobile/contentFiles/".concat(N,"?subscriberId=8765592"),{headers:{authorization:"Bearer c8ij8vntrhlreqv7g8shgqvecj",platform:1}});return I(i.data),Q(null===(e=i.data)||void 0===e?void 0:e.name_en),D(null===(a=i.data)||void 0===a?void 0:a.contentFilesEpisodesDTOs),L(null===(t=i.data)||void 0===t||null===(n=t.contentFilesEpisodesDTOs[0])||void 0===n?void 0:n.id),U(!1),!0}if(p.q.id){const e=await o.Z.get("https://api.themoviedb.org/3/tv/".concat(Z.id,"/season/").concat(Z.season_number,"?api_key=").concat(i.Z.apiKey));D(e.data.episodes),I(e.data)}else{const e=await o.Z.get("https://api.themoviedb.org/3/tv/".concat(N,"/season/").concat(W,"?api_key=").concat(i.Z.apiKey));I(e.data),D(e.data.episodes),G(e.data.download_ep_links),X(e.data.download_season_links)}}()}),[Z]),(0,n.useEffect)((()=>{k||(async()=>{U(!0),L(""),setTimeout((()=>{U(!1)}),3e3);try{var e;const a=await o.Z.get("https://moviea-back-end.onrender.com/tv-show/".concat(S,"/").concat(q.season,"/").concat(q.episode));if("Not Found"!==(null===(e=a.data)||void 0===e?void 0:e.data)){const e=null===a||void 0===a?void 0:a.data.data;L(e+"&output=embed"),G(a.data.download_ep_links),X(a.data.download_season_links)}else console.log("didnt found the ep"),L("")}catch(a){console.log("didnt found the ep"),L("")}})()}),[q.season,N,q.episode,S]);const J=e=>{O(e.target.dataset.episodenumber),k&&L(e.target.dataset.contenturl),A({...q,episode:e.target.dataset.episodenumber})},[K,z]=(0,n.useState)(!1),[B,R]=(0,n.useState)(!1),[Y,G]=(0,n.useState)([]),[V,X]=(0,n.useState)([]);return(0,v.jsxs)(v.Fragment,{children:[M&&(0,v.jsx)(w.Z,{}),(0,v.jsxs)(g.q,{children:[(0,v.jsx)("title",{children:(null===H||void 0===H||null===(a=H.contentSEO)||void 0===a?void 0:a.titleArSEO)||"Moviea | Watch Free"}),(0,v.jsx)("meta",{name:"description",content:null===H||void 0===H||null===(t=H.contentSEO)||void 0===t?void 0:t.descriptionArSEO}),(0,v.jsx)("meta",{name:"keywords",content:null===H||void 0===H||null===(s=H.contentSEO)||void 0===s?void 0:s.keywordsArSEO})]}),K&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>z(!1),children:(0,v.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==Y&&void 0!==Y&&Y.length)&&(0,v.jsx)("span",{children:"Download Links Not Available Yet"}),null===Y||void 0===Y?void 0:Y.map((e=>(0,v.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),B&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>R(!1),children:(0,v.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==V&&void 0!==V&&V.length)&&(0,v.jsx)("span",{children:"Download Links Not Available Yet"}),null===V||void 0===V?void 0:V.map((e=>(0,v.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})}),(0,v.jsxs)("div",{className:"SeasonEpisodes",children:[(0,v.jsx)("h1",{children:k?P:"Season ".concat(W," ").concat(S)}),(0,v.jsx)("div",{className:"column__posters",children:T.map(((e,a)=>{var t,n;return e.still_path||k?(0,v.jsxs)("div",{className:"MovieCard episode_holder",id:"episodeCard",children:[(0,v.jsx)(x.Z,{src:k?null===e||void 0===e?void 0:e.imageUrl:i.Z.image_api+e.still_path,id:a,alt:k?a+1:e.episode_number,"data-episodenumber":k?a+1:e.episode_number,"data-episodename":k?null===e||void 0===e?void 0:e.name_en:e.name,"data-contentUrl":k?null===e||void 0===e?void 0:e.id:"",onClick:J}),(0,v.jsxs)("h4",{className:"voteAvarage",children:[(0,v.jsxs)("p",{children:["episode ",e.episode_number||a+1]}),(0,v.jsxs)("span",{children:[k?Math.round(10*(null===(t=T[C-1])||void 0===t?void 0:t.rating))/10:Math.round(10*(null===(n=T[C-1])||void 0===n?void 0:n.vote_average))/10,(0,v.jsx)(d.QJe,{})]})]})]},a):""}))})]}),(0,v.jsxs)("div",{className:"watch_now_ep",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(k?null===(c=T[C-1])||void 0===c?void 0:c.imageUrl:(null===i.Z||void 0===i.Z?void 0:i.Z.image_api)+(null===(l=T[C-1])||void 0===l?void 0:l.still_path),")")},children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("h2",{children:["Episode ",C," ",!E&&!k&&":"+(null===(r=T[C-1])||void 0===r?void 0:r.name)+" "]}),(0,v.jsxs)("h3",{children:[k?Math.round(10*(null===(j=T[C-1])||void 0===j?void 0:j.rating))/10:Math.round(10*(null===(b=T[C-1])||void 0===b?void 0:b.vote_average))/10," ",(0,v.jsx)(d.QJe,{style:{marginLeft:".2em",marginRight:".2em"}})," |"," ",k?null===(y=T[C-1])||void 0===y?void 0:y.duration:null===(f=T[C-1])||void 0===f?void 0:f.runtime,"mn"]})]}),(0,v.jsx)(h,{currentWatchNow:q,SeName:S,embidLink:F,tn:k,nameWhenTn:P,currentEpisode:T[C]}),!k&&(0,v.jsxs)("div",{className:"DownloadTvButtonsHolder",children:[(0,v.jsxs)("button",{onClick:()=>z(!0),children:[(0,v.jsx)(m._hL,{}),"Download Episode ",C]}),(0,v.jsxs)("button",{onClick:()=>R(!0),children:[(0,v.jsx)(m._hL,{}),"Download This Season"]})]})]})]})};const b=function(e){let{tn:a}=e;const{id:t,seasonNumber:d}=(0,u.UO)(),[s,l]=(0,n.useState)("");return(0,n.useMemo)((()=>{a||async function(){const e=await o.Z.get("https://api.themoviedb.org/3/tv/".concat(t,"?api_key=").concat(i.Z.apiKey));l(e.data.name)}()})),(0,v.jsxs)("div",{className:"SeasonEpisodesPage",children:[(0,v.jsx)("h1",{id:"banner",children:a?"Episodes":"Season ".concat(d," ").concat(s)}),(0,v.jsx)(j,{SeName:s,tn:a})]})}},1081:(e,a,t)=>{t.d(a,{q:()=>n});const n=new(t(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);