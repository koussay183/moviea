"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[803],{8002:(e,n,a)=>{a.d(n,{Z:()=>i});var o=a(7313),t=a(6417);const i=function(e){const[n,a]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const n=new Image;n.onload=()=>{a(!0)},n.src=e.src}),[e.src]),(0,t.jsxs)(t.Fragment,{children:[!n&&(0,t.jsx)("div",{className:"skeleton-box",id:"skeleton-box"}),n&&(0,t.jsx)("img",{src:e.src,...e})]})}},5901:(e,n,a)=>{a.r(n),a.d(n,{default:()=>b});var o=a(7313),t=a(798),i=a(2855),d=a(6672),s=a(9768),l=a(2388),c=a(5655),r=a(3749),u=a(424),v=a(6417);const h=function(e){let{currentWatchNow:n,embidLink:a,tn:t,nameWhenTn:d,currentEpisode:h,SeName:m}=e;const{season:p,id:x,episode:g}=n,{user:j,isAuthenticated:w}=(0,l.D3)(),_=(0,u.TH)(),[b,f]=(0,o.useState)(0),y="https://vidsrc.me/embed/".concat(x,"/").concat(p,"-").concat(g,"/color-15006D");(0,o.useEffect)((()=>{f(0)}),[n,h]);const S=async()=>{const e=new Date,a=async()=>{if((new Date-e)/1e3>480&&w&&j){var o,s,l,u,v,p;const e=(0,r.JU)(c.db,"users",null===j||void 0===j?void 0:j.sub),a=await(0,r.QT)(e),w={redirectToWatch:_.pathname,nameWhenTn:d,name:m,image:t?null===h||void 0===h?void 0:h.imageUrl:i.Z.image_api+(null===h||void 0===h?void 0:h.still_path),episode:null===n||void 0===n?void 0:n.episode};var x,g;if(null!==(o=a.data())&&void 0!==o&&null!==(s=o.recentlyWatched)&&void 0!==s&&s.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==_.pathname)))await(0,r.r7)(e,{recentlyWatched:(0,r.Ab)(null===(x=a.data())||void 0===x||null===(g=x.recentlyWatched)||void 0===g?void 0:g.find((e=>e.redirectToWatch==_.pathname)))}),await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(w)});else if(null!==(l=a.data())&&void 0!==l&&l.recentlyWatched)if(null!==(u=a.data())&&void 0!==u&&u.recentlyWatched&&(null===(v=a.data())||void 0===v||null===(p=v.recentlyWatched)||void 0===p?void 0:p.length)<4)await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(w)});else{var b;await(0,r.r7)(e,{recentlyWatched:(0,r.Ab)(null===(b=a.data())||void 0===b?void 0:b.recentlyWatched[0])}),await(0,r.r7)(e,{recentlyWatched:(0,r.vr)(w)})}else await(0,r.pl)(e,{...a.data(),recentlyWatched:[w]});return!0}setTimeout(a,1e3)};a()};return(0,v.jsx)("div",{className:"watchEpisodeHolder",children:(0,v.jsx)("main",{style:{width:"100%",height:"100%"},children:t?a&&(0,v.jsx)(s.Z,{src:"https://content.shofha.com/shofhacms/getSourceFile?rshosamah=".concat(a),autoPlay:!1,controls:!0,width:"100%",height:"400px",style:{borderRadius:"10px"},className:"hslPlayer",id:"hlsPlayer",onClick:()=>{0==b&&(S(),f(1))}}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("iframe",{src:y,width:"100%",height:"100%",allowFullScreen:!0,id:"watchIframe",webkitallowfullscreen:"true",mozallowfullscreen:"true",title:g,onLoad:()=>{S()}})})})})};var m=a(2916),p=a(1081),x=a(7029),g=a(6367),j=a(8002),w=a(182);const _=function(e){var n,a,s,l,c,r,_,b,f,y,S;let{SeName:k,tn:N}=e;const{id:W,seasonNumber:E}=(0,u.UO)(),T=(0,g.useMediaQuery)({query:"(max-width: 563px)"}),Z=p.q.useState((e=>e)),[C,A]=(0,o.useState)([]),[D,O]=(0,o.useState)(1),[U,F]=(0,o.useState)({id:W,season:E,episode:D}),[L,q]=(0,o.useState)(),[M,I]=(0,o.useState)(!1),[H,P]=(0,o.useState)(""),[Q,J]=(0,o.useState)({}),[Y,R]=(0,o.useState)(!1);(0,o.useEffect)((()=>{!async function(){if(N){var e,n,a,o;I(!0);const i=await t.Z.get("/arabic/files/".concat(W));return J(i.data),P(null===(e=i.data)||void 0===e?void 0:e.name_en),A(null===(n=i.data)||void 0===n?void 0:n.contentFilesEpisodesDTOs),q(null===(a=i.data)||void 0===a||null===(o=a.contentFilesEpisodesDTOs[0])||void 0===o?void 0:o.id),I(!1),!0}if(p.q.id){const e=await t.Z.get("/tv/season/".concat(Z.id,"/").concat(Z.season_number));A(e.data.episodes),J(e.data)}else{const e=await t.Z.get("/tv/season/".concat(W,"/").concat(E));J(e.data),A(e.data.episodes),V(e.data.download_ep_links),ne(e.data.download_season_links)}}()}),[Z]),(0,o.useEffect)((()=>{N||(async()=>{I(!0),q(""),setTimeout((()=>{I(!1)}),3e3);try{var e;const n=await t.Z.get("/tv/files/".concat(k,"/").concat(U.season,"/").concat(U.episode));if("Not Found"!==(null===(e=n.data)||void 0===e?void 0:e.data)){const e=null===n||void 0===n?void 0:n.data.data;q(e+"&output=embed"),V(n.data.download_ep_links),ne(n.data.download_season_links)}else console.log("didnt found the ep"),q("")}catch(n){console.log("didnt found the ep"),q("")}})()}),[U.season,W,U.episode,k]);const z=e=>{O(e.target.dataset.episodenumber),N&&q(e.target.dataset.contenturl),F({...U,episode:e.target.dataset.episodenumber})},[B,X]=(0,o.useState)(!1),[$,G]=(0,o.useState)(!1),[K,V]=(0,o.useState)([]),[ee,ne]=(0,o.useState)([]);return(0,v.jsxs)(v.Fragment,{children:[M&&(0,v.jsx)(x.Z,{}),(0,v.jsxs)(w.q,{children:[(0,v.jsx)("title",{children:(null===Q||void 0===Q||null===(n=Q.contentSEO)||void 0===n?void 0:n.titleArSEO)||"Moviea | Watch Free"}),(0,v.jsx)("meta",{name:"description",content:null===Q||void 0===Q||null===(a=Q.contentSEO)||void 0===a?void 0:a.descriptionArSEO}),(0,v.jsx)("meta",{name:"keywords",content:null===Q||void 0===Q||null===(s=Q.contentSEO)||void 0===s?void 0:s.keywordsArSEO})]}),N&&(0,v.jsx)("article",{className:"headerOfTnTv",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(null===Q||void 0===Q?void 0:Q.previewImageUrl,")")},children:(0,v.jsxs)("div",{className:"innerTnTvArticle",children:[(0,v.jsx)("img",{src:null===Q||void 0===Q?void 0:Q.imageUrl}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("h1",{children:[null===Q||void 0===Q?void 0:Q.name_en," ",(0,v.jsxs)("span",{children:["( ",null===Q||void 0===Q?void 0:Q.productionYear," )\xa0 ( ",null===Q||void 0===Q?void 0:Q.rating," )"]})]}),(0,v.jsxs)("h2",{children:[" ",(null===Q||void 0===Q?void 0:Q.genre_en)&&(0,v.jsx)("span",{children:null===Q||void 0===Q?void 0:Q.genre_en})," ",(null===Q||void 0===Q?void 0:Q.category_en)&&(0,v.jsxs)("span",{children:[" ",null===Q||void 0===Q?void 0:Q.category_en]})]}),(0,v.jsx)("p",{children:null===Q||void 0===Q?void 0:Q.description_en}),(0,v.jsxs)("div",{className:"all_about_buttons_row",children:[(0,v.jsxs)("button",{onClick:()=>(async e=>{if(navigator.share)navigator.share({title:"Moviea",text:"Watch Free",url:e}).then((()=>R(!0))).catch((e=>console.log("Error sharing",e)));else try{await navigator.clipboard.writeText(e),R(!0),console.log("Text copied to clipboard:",e)}catch(n){console.error("Unable to copy text to clipboard:",n)}})("https://moviea-share.onrender.com/share/tn/"+W),children:[Y?(0,v.jsx)(m.UgA,{}):(0,v.jsx)(m.C3L,{}),"  Share"]}),(0,v.jsxs)("button",{onClick:()=>console.log("working on it \ud83d\ude0a"),children:[(0,v.jsx)(m.$aX,{})," Like"]})]})]})]})}),(0,v.jsx)("h1",{id:"banner",children:N?"Episodes":"Season ".concat(E," ").concat(k)}),B&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>X(!1),children:(0,v.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==K&&void 0!==K&&K.length)&&(0,v.jsx)("span",{children:"Download Links Not Available Yet"}),null===K||void 0===K?void 0:K.map(((e,n)=>(0,v.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]},"ep-download-".concat(n,"-").concat(null===e||void 0===e?void 0:e.quality,"-").concat(null===e||void 0===e?void 0:e.resolution))))]})}),$&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>G(!1),children:(0,v.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==ee&&void 0!==ee&&ee.length)&&(0,v.jsx)("span",{children:"Download Links Not Available Yet"}),null===ee||void 0===ee?void 0:ee.map(((e,n)=>(0,v.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]},"season-download-".concat(n,"-").concat(null===e||void 0===e?void 0:e.quality,"-").concat(null===e||void 0===e?void 0:e.resolution))))]})}),(0,v.jsxs)("div",{className:"watchArabicHolder",children:[(0,v.jsxs)("div",{className:"SeasonEpisodes",children:[(0,v.jsx)("h1",{children:N?H:"Season ".concat(E," ").concat(k)}),(0,v.jsx)("div",{className:"column__posters",children:C.map(((e,n)=>{var a,o;return e.still_path||N?(0,v.jsxs)("div",{className:"MovieCard episode_holder",id:"episodeCard",children:[(0,v.jsx)(j.Z,{src:N?(null===e||void 0===e?void 0:e.imageUrl)||(null===e||void 0===e?void 0:e.poster):i.Z.image_api+e.still_path,id:n,alt:N?n+1:e.episode_number,"data-episodenumber":N?n+1:e.episode_number,"data-episodename":N?null===e||void 0===e?void 0:e.name_en:e.name,"data-contentUrl":N?null===e||void 0===e?void 0:e.id:"",onClick:z}),(0,v.jsxs)("h4",{className:"voteAvarage",children:[(0,v.jsxs)("p",{children:["episode ",e.episode_number||n+1]}),(0,v.jsxs)("span",{children:[N?Math.round(10*((null===(a=C[D-1])||void 0===a?void 0:a.rating)||(null===Q||void 0===Q?void 0:Q.rating)))/10:Math.round(10*(null===(o=C[D-1])||void 0===o?void 0:o.vote_average))/10,(0,v.jsx)(d.QJe,{})]})]})]},"episode-".concat(N?n+1:e.episode_number,"-").concat(W)):""}))})]}),(0,v.jsxs)("div",{className:"watch_now_ep",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(N?(null===(c=C[D-1])||void 0===c?void 0:c.imageUrl)||(null===(r=C[D-1])||void 0===r?void 0:r.poster):(null===i.Z||void 0===i.Z?void 0:i.Z.image_api)+(null===(l=C[D-1])||void 0===l?void 0:l.still_path),")")},children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("h2",{children:["Episode ",D," ",!T&&!N&&":"+(null===(_=C[D-1])||void 0===_?void 0:_.name)+" "]}),(0,v.jsxs)("h3",{children:[N?Math.round(10*(null===(b=C[D-1])||void 0===b?void 0:b.rating))/10:Math.round(10*(null===(f=C[D-1])||void 0===f?void 0:f.vote_average))/10," ",(0,v.jsx)(d.QJe,{style:{marginLeft:".2em",marginRight:".2em"}})," |"," ",N?null===(y=C[D-1])||void 0===y?void 0:y.duration:null===(S=C[D-1])||void 0===S?void 0:S.runtime,"mn"]})]}),(0,v.jsx)(h,{currentWatchNow:U,SeName:k,embidLink:L,tn:N,nameWhenTn:H,currentEpisode:C[D]}),!N&&(0,v.jsxs)("div",{className:"DownloadTvButtonsHolder",children:[(0,v.jsxs)("button",{onClick:()=>X(!0),children:[(0,v.jsx)(m._hL,{}),"Download Episode ",D]}),(0,v.jsxs)("button",{onClick:()=>G(!0),children:[(0,v.jsx)(m._hL,{}),"Download This Season"]})]})]})]})]})};const b=function(e){let{tn:n}=e;const{id:a,seasonNumber:i}=(0,u.UO)(),[d,s]=(0,o.useState)("");return(0,o.useMemo)((()=>{n||async function(){const e=await t.Z.get("/tv/".concat(a));s(e.data.name)}()})),(0,v.jsx)("div",{className:"SeasonEpisodesPage",children:(0,v.jsx)(_,{SeName:d,tn:n})})}},1081:(e,n,a)=>{a.d(n,{q:()=>o});const o=new(a(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);