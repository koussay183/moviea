"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[313],{1492:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var s=i(7313),n=i(1709),a=i(798),o=i(9761),c=i(3538),l=i(3394),r=i(2539),d=i(2269),h=i(4850),m=i(5710),w=i(6417);const v=s.memo((()=>{const[e,t]=(0,s.useState)([]),i=[],{currentUser:v}=(0,h.aC)(),{watchList:u,watchListLen:y,removeFromWatchlist:p}=(0,m.B)();(0,s.useEffect)((()=>{(async()=>{i.length=0,t([]);const e=((null===v||void 0===v?void 0:v.watchlist)||u).map((e=>(async(e,s)=>{try{const n=await a.Z.get("/".concat(e,"/").concat(s));i.push({...n.data,media_type:e}),t([...i])}catch(n){console.error("Error fetching movie:",n)}})(e.mediaType,e.movieId)));await Promise.all(e)})()}),[u,v]);const x=Math.floor(window.innerWidth/200),_=Math.ceil(e.length/x);return e.length<1?(0,w.jsx)("div",{className:"watch_list",children:(0,w.jsx)("div",{className:"inner_watch_list",children:(0,w.jsxs)("div",{className:"emptyDataHolder",children:[(0,w.jsx)("img",{src:d.Z,alt:"empty"}),(0,w.jsx)("h1",{children:"no movies in your watch list yet"})]})})}):(0,w.jsx)("div",{className:"watch_list",children:(0,w.jsx)("div",{className:"inner_watch_list",children:(0,w.jsx)(o.Ym,{columnCount:x,columnWidth:200,height:window.innerHeight-100,rowCount:_,rowHeight:300,width:window.innerWidth-40,children:i=>{let{columnIndex:s,rowIndex:a,style:o}=i;const d=e[a*x+s];return d?(0,w.jsxs)("div",{style:o,className:"movie_card_in_watch_list_holder",children:[(0,w.jsx)(n.Z,{movie:d,isLarge:!1,mediaType:d.media_type}),(0,w.jsxs)("span",{id:"done",children:[(0,w.jsx)(c.CopyToClipboard,{text:window.location.host+"/all-about/".concat(d.media_type,"/").concat(d.id),children:(0,w.jsx)(r.twx,{})}),(0,w.jsx)(l.XZG,{onClick:()=>(async i=>{try{const s=e.find((e=>e.id===i)),n=(null===s||void 0===s?void 0:s.media_type)||(null===s||void 0===s?void 0:s.type)||"movie";await p(i,n);const a=e.filter((e=>e.id!==i));t(a)}catch(s){console.error("Error removing movie from watchlist:",s)}})(d.id)})]})]}):null}})})})}));v.displayName="WatchList";const u=v}}]);