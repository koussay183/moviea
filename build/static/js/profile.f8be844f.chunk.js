"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[845],{8002:(e,s,a)=>{a.d(s,{Z:()=>l});var i=a(7313),t=a(6417);const l=function(e){const[s,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{let s=!0;a(!1);const i=new Image;return i.onload=()=>{s&&a(!0)},i.src=e.src,()=>{s=!1,i.onload=null}}),[e.src]),(0,t.jsxs)(t.Fragment,{children:[!s&&(0,t.jsx)("div",{className:"skeleton-box"}),s&&(0,t.jsx)("img",{src:e.src,...e})]})}},1709:(e,s,a)=>{a.d(s,{Z:()=>m});var i=a(7313),t=a(2135),l=a(6367),n=a(6672),c=a(6295),r=a(2855),d=a(8002),o=a(6417);const h=i.memo((e=>{let{movie:s,isLarge:a,mediaType:h,isShofha:m,isRamadan:v}=e;const[u,p]=(0,i.useState)(!1),x=(0,l.useMediaQuery)({query:"(max-width:460px)"}),{backdropPath:j,posterPath:N,posterPathForPhone:g,link1:w,link2:b,year:y,displayTitle:f,rating:k}=(0,i.useMemo)((()=>{const e=new Date(s.first_air_date||s.release_date).getFullYear(),a=m?s.backdrop_path:r.Z.image_api+s.backdrop_path,i=m?s.poster_path:r.Z.small_image_api+s.poster_path;return{backdropPath:a,posterPath:i,posterPathForPhone:i,year:e,link1:"/all-about/".concat(s.media_type||h,"/").concat(s.id),link2:"/tn/tv/".concat(s.id).concat(v?"/ramadan":""),displayTitle:s.title||s.name||s.original_name,rating:s.vote_average>0?s.vote_average.toString().substring(0,3):"UV"}}),[s,m,h,v]);return(0,o.jsxs)("div",{className:a?"MovieCardLarge":"MovieCard",id:"MovieCard",children:[(0,o.jsxs)(t.rU,{to:m?b:w,className:"link-to",children:[!a&&(0,o.jsx)("div",{className:"innerMovieaCardOnHover",children:(0,o.jsx)(n.gmG,{})}),u&&(0,o.jsx)(d.Z,{src:a?j:x?g:N,alt:f,loading:"lazy",className:a?"backdrop_path":"poster_path"},"".concat(s.id,"-").concat(s.media_type||h)),(0,o.jsx)(c.h,{onEnter:()=>p(!0)})]}),(0,o.jsxs)("span",{className:"voteAvarage",children:[(0,o.jsx)("span",{children:s.media_type||h}),(0,o.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[k," ",(0,o.jsx)(n.QJe,{style:{marginLeft:".2em"}})]})]}),a&&(0,o.jsxs)(t.rU,{to:"/all-about/".concat(s.media_type||h,"/").concat(s.id),className:"dataInsideCardHolder",children:[(0,o.jsx)("h1",{children:y}),(0,o.jsx)("p",{children:s.title||s.original_name})]})]})}));h.displayName="MovieCard";const m=h},8066:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var i=a(7313),t=a(4850),l=a(7452),n=a(9932),c=a(3749),r=a(3283),d=a(1709),o=a(424),h=a(6417);const m=function(){var e,s,a,m,v;const{currentUser:u,logout:p,trackUserActivity:x}=(0,t.aC)(),[j,N]=(0,i.useState)(""),[g,w]=(0,i.useState)(!1),[b,y]=(0,i.useState)(""),[f,k]=(0,i.useState)(""),[C,S]=(0,i.useState)("overview"),[_,M]=(0,i.useState)([]),[R,T]=(0,i.useState)({movieTitle:"",rating:5,content:""}),[D,L]=(0,i.useState)(null),[P,U]=(0,i.useState)(!1),F=(0,o.s0)();return(0,i.useEffect)((()=>{null!==u&&void 0!==u&&u.displayName&&N(u.displayName),null!==u&&void 0!==u&&u.reviews&&M(u.reviews||[])}),[u]),u?(0,h.jsxs)("div",{className:"profile-page",children:[(0,h.jsxs)("div",{className:"profile-hero",children:[(0,h.jsx)("div",{className:"hero-overlay"}),(0,h.jsxs)("div",{className:"profile-hero-content",children:[(0,h.jsx)("div",{className:"profile-avatar",children:(0,h.jsx)("span",{className:"avatar-emoji",children:"\ud83c\udfac"})}),(0,h.jsxs)("div",{className:"profile-info",children:[(0,h.jsx)("h1",{className:"profile-name",children:j||u.email.split("@")[0]}),(0,h.jsx)("p",{className:"profile-bio",children:"Movie Enthusiast \ud83c\udf7f | Critic \ud83c\udfad | Binge Watcher \ud83d\udcfa"}),(0,h.jsxs)("div",{className:"profile-stats",children:[(0,h.jsxs)("div",{className:"stat-item",children:[(0,h.jsx)("span",{className:"stat-number",children:(null===(e=u.watchlist)||void 0===e?void 0:e.length)||0}),(0,h.jsx)("span",{className:"stat-label",children:"Watchlist"})]}),(0,h.jsxs)("div",{className:"stat-item",children:[(0,h.jsx)("span",{className:"stat-number",children:_.length}),(0,h.jsx)("span",{className:"stat-label",children:"Reviews"})]}),(0,h.jsxs)("div",{className:"stat-item",children:[(0,h.jsx)("span",{className:"stat-number",children:(null===(s=u.recentlyViewed)||void 0===s?void 0:s.length)||0}),(0,h.jsx)("span",{className:"stat-label",children:"Watched"})]})]})]}),(0,h.jsxs)("button",{onClick:async()=>{try{l.d.update((e=>{e.loading=!0})),await p(),F("/")}catch(b){y(b.message.replace("Firebase: ",""))}finally{l.d.update((e=>{e.loading=!1}))}},className:"logout-btn",children:[(0,h.jsx)("span",{children:"\ud83d\udc4b"})," Logout"]})]})]}),(0,h.jsxs)("div",{className:"profile-tabs",children:[(0,h.jsx)("button",{className:"tab-btn ".concat("overview"===C?"active":""),onClick:()=>S("overview"),children:"\ud83c\udfe0 Overview"}),(0,h.jsx)("button",{className:"tab-btn ".concat("reviews"===C?"active":""),onClick:()=>S("reviews"),children:"\u2b50 My Reviews"}),(0,h.jsx)("button",{className:"tab-btn ".concat("watchlist"===C?"active":""),onClick:()=>S("watchlist"),children:"\ud83d\udcbe Watchlist"}),(0,h.jsx)("button",{className:"tab-btn ".concat("settings"===C?"active":""),onClick:()=>S("settings"),children:"\u2699\ufe0f Settings"})]}),(0,h.jsxs)("div",{className:"profile-content-area",children:[b&&(0,h.jsx)("div",{className:"alert alert-error",children:b}),f&&(0,h.jsx)("div",{className:"alert alert-success",children:f}),"overview"===C&&(0,h.jsxs)("div",{className:"tab-content",children:[(0,h.jsxs)("div",{className:"content-grid",children:[(0,h.jsxs)("div",{className:"profile-card fun-card",children:[(0,h.jsx)("h3",{children:"\ud83c\udfaf Your Movie Journey"}),(0,h.jsxs)("div",{className:"journey-stats",children:[(0,h.jsxs)("div",{className:"journey-item",children:[(0,h.jsx)("span",{className:"journey-icon",children:"\ud83c\udfa5"}),(0,h.jsxs)("span",{children:["Member since ",new Date(null===(a=u.metadata)||void 0===a?void 0:a.creationTime).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]}),(0,h.jsxs)("div",{className:"journey-item",children:[(0,h.jsx)("span",{className:"journey-icon",children:"\ud83c\udfc6"}),(0,h.jsxs)("span",{children:["Movie Buff Level ",Math.min(10,Math.floor((_.length+((null===(m=u.watchlist)||void 0===m?void 0:m.length)||0))/5)+1)]})]}),(0,h.jsxs)("div",{className:"journey-item",children:[(0,h.jsx)("span",{className:"journey-icon",children:"\ud83c\udf7f"}),(0,h.jsxs)("span",{children:[(2*_.length+1.5*((null===(v=u.recentlyViewed)||void 0===v?void 0:v.length)||0)).toFixed(0)," hours of cinema"]})]})]})]}),_.length>0&&(0,h.jsxs)("div",{className:"profile-card",children:[(0,h.jsx)("h3",{children:"\ud83d\udcdd Latest Reviews"}),_.slice(-3).reverse().map((e=>(0,h.jsxs)("div",{className:"mini-review",children:[(0,h.jsxs)("div",{className:"mini-review-header",children:[(0,h.jsx)("span",{className:"movie-title-mini",children:e.movieTitle}),(0,h.jsx)("span",{className:"rating-mini",children:"\u2b50".repeat(e.rating)})]}),(0,h.jsxs)("p",{className:"review-snippet",children:[e.content.substring(0,80),"..."]})]},e.id))),(0,h.jsx)("button",{className:"view-all-btn",onClick:()=>S("reviews"),children:"View All Reviews \u2192"})]})]}),(0,h.jsxs)("div",{className:"profile-card full-width",children:[(0,h.jsx)("h3",{children:"\ud83d\udd50 Continue Watching"}),u.recentlyViewed&&u.recentlyViewed.length>0?(0,h.jsx)("div",{className:"movie-scroll",children:u.recentlyViewed.slice(0,10).map((e=>(0,h.jsx)(d.Z,{movie:e,isLarge:!1},"recent-".concat(e.id,"-").concat(e.media_type))))}):(0,h.jsxs)("div",{className:"empty-state",children:[(0,h.jsx)("span",{className:"empty-icon",children:"\ud83c\udfac"}),(0,h.jsx)("p",{children:"Start watching to see your history here!"})]})]})]}),"reviews"===C&&(0,h.jsxs)("div",{className:"tab-content",children:[(0,h.jsxs)("div",{className:"reviews-header",children:[(0,h.jsx)("h3",{children:"\u2b50 My Movie Reviews"}),(0,h.jsx)("button",{className:"add-review-btn",onClick:()=>U(!P),children:P?"\u2716\ufe0f Cancel":"\u2795 Write Review"})]}),P&&(0,h.jsxs)("div",{className:"profile-card review-form-card",children:[(0,h.jsx)("h4",{children:"\ud83c\udfac New Review"}),(0,h.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!R.movieTitle||!R.content)return;const s={id:Date.now(),...R,date:(new Date).toISOString(),likes:0},a=[..._,s];M(a);try{const e=(0,c.JU)(r.db,"users",u.uid);await(0,c.r7)(e,{reviews:a}),T({movieTitle:"",rating:5,content:""}),U(!1),k("Review added! \ud83c\udfac")}catch(b){y(b.message)}},className:"review-form",children:[(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsx)("input",{type:"text",placeholder:"Movie/Show Title",value:R.movieTitle,onChange:e=>T({...R,movieTitle:e.target.value}),required:!0}),(0,h.jsxs)("div",{className:"rating-picker",children:[(0,h.jsx)("label",{children:"Rating:"}),[1,2,3,4,5].map((e=>(0,h.jsx)("span",{className:"star ".concat(R.rating>=e?"filled":""),onClick:()=>T({...R,rating:e}),children:"\u2b50"},e)))]})]}),(0,h.jsx)("textarea",{placeholder:"Share your thoughts about this movie... \ud83c\udfad",value:R.content,onChange:e=>T({...R,content:e.target.value}),rows:4,required:!0}),(0,h.jsx)("button",{type:"submit",className:"submit-review-btn",children:"\ud83d\ude80 Post Review"})]})]}),(0,h.jsx)("div",{className:"reviews-list",children:0===_.length?(0,h.jsxs)("div",{className:"empty-state",children:[(0,h.jsx)("span",{className:"empty-icon",children:"\ud83d\udcdd"}),(0,h.jsx)("p",{children:"No reviews yet. Share your movie opinions!"}),(0,h.jsx)("button",{className:"cta-btn",onClick:()=>U(!0),children:"Write Your First Review"})]}):_.slice().reverse().map((e=>(0,h.jsx)("div",{className:"profile-card review-card",children:(null===D||void 0===D?void 0:D.id)===e.id?(0,h.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async e=>{const s=_.map((s=>s.id===e.id?e:s));M(s);try{const e=(0,c.JU)(r.db,"users",u.uid);await(0,c.r7)(e,{reviews:s}),L(null),k("Review updated! \u270f\ufe0f")}catch(b){y(b.message)}})(D)},className:"edit-review-form",children:[(0,h.jsx)("input",{type:"text",value:D.movieTitle,onChange:e=>L({...D,movieTitle:e.target.value})}),(0,h.jsx)("div",{className:"rating-picker",children:[1,2,3,4,5].map((e=>(0,h.jsx)("span",{className:"star ".concat(D.rating>=e?"filled":""),onClick:()=>L({...D,rating:e}),children:"\u2b50"},e)))}),(0,h.jsx)("textarea",{value:D.content,onChange:e=>L({...D,content:e.target.value}),rows:3}),(0,h.jsxs)("div",{className:"edit-actions",children:[(0,h.jsx)("button",{type:"submit",className:"save-btn",children:"\ud83d\udcbe Save"}),(0,h.jsx)("button",{type:"button",onClick:()=>L(null),className:"cancel-btn",children:"Cancel"})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"review-header",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"review-movie-title",children:e.movieTitle}),(0,h.jsxs)("div",{className:"review-meta",children:[(0,h.jsx)("span",{className:"review-rating",children:"\u2b50".repeat(e.rating)}),(0,h.jsx)("span",{className:"review-date",children:new Date(e.date).toLocaleDateString()})]})]}),(0,h.jsxs)("div",{className:"review-actions",children:[(0,h.jsx)("button",{onClick:()=>L(e),className:"icon-btn",children:"\u270f\ufe0f"}),(0,h.jsx)("button",{onClick:()=>(async e=>{if(!window.confirm("Delete this review? \ud83d\uddd1\ufe0f"))return;const s=_.filter((s=>s.id!==e));M(s);try{const e=(0,c.JU)(r.db,"users",u.uid);await(0,c.r7)(e,{reviews:s}),k("Review deleted!")}catch(b){y(b.message)}})(e.id),className:"icon-btn danger",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,h.jsx)("p",{className:"review-content",children:e.content})]})},e.id)))})]}),"watchlist"===C&&(0,h.jsx)("div",{className:"tab-content",children:(0,h.jsxs)("div",{className:"profile-card full-width",children:[(0,h.jsx)("h3",{children:"\ud83d\udcbe My Watchlist"}),u.watchlist&&u.watchlist.length>0?(0,h.jsx)("div",{className:"movie-grid",children:u.watchlist.map((e=>(0,h.jsx)(d.Z,{movie:e,isLarge:!1},"watchlist-".concat(e.id,"-").concat(e.media_type))))}):(0,h.jsxs)("div",{className:"empty-state",children:[(0,h.jsx)("span",{className:"empty-icon",children:"\ud83c\udfac"}),(0,h.jsx)("p",{children:"Your watchlist is empty"}),(0,h.jsx)("button",{onClick:()=>F("/"),className:"cta-btn",children:"Browse Movies"})]})]})}),"settings"===C&&(0,h.jsx)("div",{className:"tab-content",children:(0,h.jsxs)("div",{className:"profile-card",children:[(0,h.jsx)("h3",{children:"\u2699\ufe0f Account Settings"}),(0,h.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u)try{w(!0),y(""),k(""),await(0,n.ck)(u,{displayName:j});const e=(0,c.JU)(r.db,"users",u.uid);await(0,c.r7)(e,{displayName:j}),await x(u.uid,"update_profile"),k("Profile updated successfully!")}catch(b){y(b.message.replace("Firebase: ",""))}finally{w(!1)}else y("You must be logged in to update your profile")},className:"settings-form",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{children:"\ud83d\udce7 Email"}),(0,h.jsx)("input",{type:"email",value:u.email,disabled:!0,className:"disabled-input"}),(0,h.jsx)("small",{children:"Email cannot be changed"})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{children:"\ud83d\udc64 Display Name"}),(0,h.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Your display name"})]}),(0,h.jsx)("button",{type:"submit",className:"save-settings-btn",disabled:g,children:g?"\u23f3 Saving...":"\ud83d\udcbe Save Changes"})]})]})})]})]}):(0,h.jsx)("div",{className:"profile-container",children:(0,h.jsxs)("div",{className:"profile-card",children:[(0,h.jsx)("h1",{children:"Please login to view your profile"}),(0,h.jsx)("button",{onClick:()=>F("/login"),className:"auth-button",children:"Log In"})]})})}}}]);