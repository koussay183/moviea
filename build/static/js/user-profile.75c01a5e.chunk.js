"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[273],{8002:(l,e,i)=>{i.d(e,{Z:()=>o});var s=i(7313),d=i(6417);const o=function(l){const[e,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const e=new Image;e.onload=()=>{i(!0)},e.src=l.src}),[l.src]),(0,d.jsxs)(d.Fragment,{children:[!e&&(0,d.jsx)("div",{className:"skeleton-box",id:"skeleton-box"}),e&&(0,d.jsx)("img",{src:l.src,...l})]})}},9625:(l,e,i)=>{i.d(e,{Z:()=>o});var s=i(7313),d=i(6417);const o=function(l){let{text:e,max:i}=l;const[o,n]=(0,s.useState)(!1);return(0,d.jsxs)("p",{className:"reviewText",children:[o?e:null===e||void 0===e?void 0:e.substring(0,i)," ",(null===e||void 0===e?void 0:e.length)>=i&&(0,d.jsx)("span",{onClick:()=>n(!o),className:"showMoreBtn",children:o?"See less":"... See more"})]})}},8491:(l,e,i)=>{i.d(e,{Z:()=>u});var s=i(7313),d=i(2855),o=i(2135),n=i(9625),a=i(2539),v=i(3749),c=i(5655),t=i(2036),r=i(6417);const u=function(l){var e,i,u,h,m,x,j,p,w,f;let{review:g,user:b,level:y,currentUser:N}=l;const k=b||N||{name:null===g||void 0===g?void 0:g.name,picture:null===g||void 0===g?void 0:g.picture,profileBase64:null},[L,S]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"Review",children:[L&&(0,r.jsxs)("div",{className:"optionsHolder",children:[(0,r.jsxs)("div",{onClick:()=>{S(!1)},children:[(0,r.jsx)(a.U$P,{})," Edit Review"]}),(0,r.jsxs)("div",{onClick:()=>{(async()=>{S(!1),await(0,v.oe)((0,v.JU)(c.db,"reviews",g.id)),t.Am.success("Review Deleted \ud83d\ude0a !",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})})()},children:[(0,r.jsx)(a.ZkW,{})," Delete Review"]}),(0,r.jsxs)("div",{onClick:()=>{S(!1)},children:[(0,r.jsx)(a.KQY,{})," Share Review"]})]}),(0,r.jsxs)("div",{className:"ReviewHeader",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("img",{src:(null===k||void 0===k?void 0:k.profileBase64)||(null===k||void 0===k?void 0:k.picture)||"https://via.placeholder.com/40",alt:(null===k||void 0===k?void 0:k.name)||"User"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("h1",{children:null!==k&&void 0!==k&&null!==(e=k.name)&&void 0!==e&&e.includes("@")?null===k||void 0===k?void 0:k.nickname:(null===k||void 0===k?void 0:k.name)||"Anonymous"}),(0,r.jsx)("h2",{children:(new Date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})==(null===g||void 0===g?void 0:g.date)?"Today, "+(null===g||void 0===g?void 0:g.time):null===g||void 0===g||null===(i=g.date)||void 0===i?void 0:i.slice((null===g||void 0===g||null===(u=g.date)||void 0===u?void 0:u.indexOf(","))+1)})]})]}),"user"!==y&&(0,r.jsxs)("div",{className:"optionsBtn",onClick:()=>S(!L),children:[(0,r.jsx)("span",{}),!L&&(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]}),"user"===y&&(0,r.jsxs)("div",{className:"optionsBtn",children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})]}),(0,r.jsx)(n.Z,{text:(null===g||void 0===g?void 0:g.reviewText)||(null===g||void 0===g?void 0:g.content),max:80}),(null===g||void 0===g||null===(h=g.selectedMedia)||void 0===h?void 0:h.backdrop_path)&&(0,r.jsx)("img",{src:d.Z.image_api+g.selectedMedia.backdrop_path,className:"mediaImage",alt:(null===g||void 0===g||null===(m=g.selectedMedia)||void 0===m?void 0:m.title)||(null===g||void 0===g||null===(x=g.selectedMedia)||void 0===x?void 0:x.name)||"Media"}),(0,r.jsxs)("div",{className:"mediaInfoHolder",children:[(0,r.jsxs)("span",{children:["movie"===(null===g||void 0===g?void 0:g.mediaType)?null===g||void 0===g||null===(j=g.selectedMedia)||void 0===j?void 0:j.title:(null===g||void 0===g||null===(p=g.selectedSeason)||void 0===p?void 0:p.name)||(null===g||void 0===g||null===(w=g.selectedMedia)||void 0===w?void 0:w.original_name)||(null===g||void 0===g?void 0:g.title),(null===g||void 0===g?void 0:g.mediaType)&&" (".concat(g.mediaType,")"),!(null!==g&&void 0!==g&&g.mediaType)&&(null===g||void 0===g?void 0:g.type)&&" (".concat(g.type,")")]}),(null===g||void 0===g?void 0:g.mediaType)&&(null===g||void 0===g||null===(f=g.selectedMedia)||void 0===f?void 0:f.id)&&(0,r.jsx)(o.rU,{to:"/all-about/".concat(g.mediaType,"/").concat(g.selectedMedia.id),children:"watch now"})]})]})}},4447:(l,e,i)=>{i.r(e),i.d(e,{default:()=>w});var s=i(7313),d=i(424),o=i(5655),n=i(3749),a=i(8002),v=i(2855),c=i(798),t=i(8491),r=i(7864),u=i(2388),h=i(6367),m=i(7211),x=i(2135),j=i(294),p=i(6417);const w=function(){var l,e,i,w,f,g,b,y,N,k,L;const{sub:S}=(0,d.UO)(),[T,C]=(0,s.useState)({}),[H,U]=(0,s.useState)([]),[M,Z]=(0,s.useState)({}),[B,I]=(0,s.useState)({}),{user:W,isAuthenticated:J,loginWithPopup:R}=(0,u.D3)();(0,s.useEffect)((()=>{Q([]),q([]);(async()=>{const l=await c.Z.get(v.Z.fetchTrending);Z({...l.data.results[Math.floor(Math.random()*l.data.results.length)]})})(),(async()=>{(0,n.cf)((0,n.IO)((0,n.hJ)(o.db,"users"),(0,n.ar)("sub","==",S)),(l=>{l.docs.length>0&&l.docs.forEach((l=>{const e=l.data();C(e)}))})),(0,n.cf)((0,n.IO)((0,n.hJ)(o.db,"reviews"),(0,n.ar)("ref","==",S)),(l=>U(l.docs.map((l=>({...l.data(),id:l.id}))))))})(),(async()=>{J&&W&&(0,n.cf)((0,n.JU)(o.db,"users",null===W||void 0===W?void 0:W.sub),(l=>{I(l.data())}))})()}),[S,W]);const _=async()=>{if(J&&W){var l,e;const i=(0,n.JU)(o.db,"users",null===W||void 0===W?void 0:W.sub),s=await(0,n.QT)(i);null!==(l=s.data())&&void 0!==l&&l.followList?await(0,n.r7)(i,{followList:(0,n.vr)(null===T||void 0===T?void 0:T.sub)}):await(0,n.pl)(i,{...s.data(),followList:[null===T||void 0===T?void 0:T.sub]});const d=(0,n.JU)(o.db,"users",S),a=await(0,n.QT)(d);null!==(e=a.data())&&void 0!==e&&e.followersList?await(0,n.r7)(d,{followersList:(0,n.vr)(null===W||void 0===W?void 0:W.sub)}):await(0,n.pl)(d,{...a.data(),followersList:[null===W||void 0===W?void 0:W.sub]})}else R()},P=async()=>{if(J){const l=(0,n.JU)(o.db,"users",null===W||void 0===W?void 0:W.sub),e=(0,n.JU)(o.db,"users",S);await(0,n.r7)(l,{followList:(0,n.Ab)(null===T||void 0===T?void 0:T.sub)}),await(0,n.r7)(e,{followersList:(0,n.Ab)(null===W||void 0===W?void 0:W.sub)})}},[A,E]=(0,s.useState)(!1),[O,Q]=(0,s.useState)([]),[D,Y]=(0,s.useState)(!1),[z,q]=(0,s.useState)([]),F=(0,h.useMediaQuery)({query:"(max-width: 563px)"}),G=async()=>{var l;z.length||(null===T||void 0===T||null===(l=T.followList)||void 0===l||l.map((l=>(async l=>{const e=(0,n.JU)(o.db,"users",l);(0,n.QT)(e).then((l=>q((e=>[...e,l.data()]))))})(l))));Y(!D)},K=async()=>{var l;O.length||(null===T||void 0===T||null===(l=T.followersList)||void 0===l||l.map((l=>(async l=>{const e=(0,n.JU)(o.db,"users",l);(0,n.QT)(e).then((l=>Q((e=>[...e,l.data()]))))})(l))));E(!A)};return J&&S==W.sub?(0,j.uX)("/account"):(0,p.jsxs)("div",{className:"UserProfilePage",children:[(0,p.jsx)(m.Z,{open:D,style:{zIndex:99,padding:"1em"},onClick:()=>Y(!D),children:(0,p.jsxs)("div",{className:"followingListHolder",children:[(0,p.jsx)("h1",{children:"following"}),null===z||void 0===z?void 0:z.map((l=>{var e;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:[(0,p.jsx)("img",{src:null===l||void 0===l?void 0:l.picture,alt:null===l||void 0===l?void 0:l.name}),null!==l&&void 0!==l&&null!==(e=l.name)&&void 0!==e&&e.includes("@")?null===l||void 0===l?void 0:l.nickname:null===l||void 0===l?void 0:l.name]}),(0,p.jsx)(x.rU,{to:"/user/".concat(null===l||void 0===l?void 0:l.sub),children:"view"})]})})),!(null!==z&&void 0!==z&&z.length)&&"no following yet"]})}),(0,p.jsx)(m.Z,{open:A,style:{zIndex:99,padding:"1em"},onClick:()=>E(!A),children:(0,p.jsxs)("div",{className:"followingListHolder",children:[(0,p.jsx)("h1",{children:"followers"}),null===O||void 0===O?void 0:O.map((l=>{var e;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:[(0,p.jsx)("img",{src:null===l||void 0===l?void 0:l.picture,alt:null===l||void 0===l?void 0:l.name}),null!==l&&void 0!==l&&null!==(e=l.name)&&void 0!==e&&e.includes("@")?null===l||void 0===l?void 0:l.nickname:null===l||void 0===l?void 0:l.name]}),(0,p.jsx)(x.rU,{to:"/user/".concat(null===l||void 0===l?void 0:l.sub),children:"view"})]})})),!(null!==O&&void 0!==O&&O.length)&&"no followers yet"]})}),(0,p.jsxs)("div",{className:"accountHeader",children:[(0,p.jsx)("div",{className:"imageHolderAcc",children:(0,p.jsx)(a.Z,{src:v.Z.image_api+(null===M||void 0===M?void 0:M.backdrop_path),className:"accountHeaderImage",alt:"cover"})}),(0,p.jsx)("span",{className:"movieCoverTitle",children:(null===M||void 0===M?void 0:M.title)||(null===M||void 0===M?void 0:M.name)}),(0,p.jsxs)("div",{className:"profileInfosHolder",children:[(0,p.jsxs)("div",{className:"GlobalInfoHolder",children:[(0,p.jsx)("img",{src:(null===T||void 0===T?void 0:T.profileBase64)||T.picture,alt:null===T||void 0===T?void 0:T.name}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:null!==T&&void 0!==T&&null!==(l=T.name)&&void 0!==l&&l.includes("@")?null===T||void 0===T?void 0:T.nickname:null===T||void 0===T?void 0:T.name}),F&&(0,p.jsxs)("div",{className:"loveBtn",onClick:()=>{var l;return null!==B&&void 0!==B&&null!==(l=B.followList)&&void 0!==l&&l.includes(null===T||void 0===T?void 0:T.sub)?P():_()},children:[!(null!==B&&void 0!==B&&null!==(e=B.followList)&&void 0!==e&&e.includes(null===T||void 0===T?void 0:T.sub))&&(0,p.jsxs)("span",{children:[(0,p.jsx)(r.lo,{})," follow"]}),(null===B||void 0===B||null===(i=B.followList)||void 0===i?void 0:i.includes(null===T||void 0===T?void 0:T.sub))&&(0,p.jsxs)("span",{children:[(0,p.jsx)(r.M_L,{})," followed"]})]}),!F&&(0,p.jsxs)("h2",{children:[H.length," Reviews . ",(0,p.jsxs)("span",{className:"followingBtn",onClick:()=>K(),children:[(null===T||void 0===T||null===(w=T.followersList)||void 0===w?void 0:w.length)||"0"," follower"]})," . ",(0,p.jsxs)("span",{onClick:()=>G(),className:"followingBtn",children:[(null===T||void 0===T||null===(f=T.followList)||void 0===f?void 0:f.length)||"0"," following"]})," "]})]})]}),!F&&(0,p.jsxs)("div",{className:"loveBtn",onClick:()=>{var l;return null!==B&&void 0!==B&&null!==(l=B.followList)&&void 0!==l&&l.includes(null===T||void 0===T?void 0:T.sub)?P():_()},children:[!(null!==B&&void 0!==B&&null!==(g=B.followList)&&void 0!==g&&g.includes(null===T||void 0===T?void 0:T.sub))&&(0,p.jsxs)("span",{children:[(0,p.jsx)(r.lo,{})," follow"]}),(null===B||void 0===B||null===(b=B.followList)||void 0===b?void 0:b.includes(null===T||void 0===T?void 0:T.sub))&&(0,p.jsxs)("span",{children:[(0,p.jsx)(r.M_L,{})," followed"]})]})]}),F&&(0,p.jsxs)("div",{className:"smallScreenInfoHolder",children:[(0,p.jsxs)("span",{children:[(0,p.jsxs)("span",{children:[H.length," "]}),(0,p.jsx)("span",{children:"Reviews"})]}),(0,p.jsxs)("span",{onClick:()=>K(),children:[(0,p.jsx)("span",{children:(null===T||void 0===T||null===(y=T.followersList)||void 0===y?void 0:y.length)||"0"}),(0,p.jsx)("span",{children:"follower"})]}),(0,p.jsxs)("span",{onClick:()=>G(),children:[(0,p.jsx)("span",{children:(null===T||void 0===T||null===(N=T.followList)||void 0===N?void 0:N.length)||"0"}),(0,p.jsx)("span",{children:"following"})]})]})]}),(0,p.jsxs)("div",{className:"downSection",children:[(0,p.jsx)("div",{className:"sideSection",children:(0,p.jsxs)("div",{className:"stikcyWrapper",children:[(0,p.jsxs)("div",{className:"bioHolder",children:[(0,p.jsx)("h1",{children:"Intro"}),(0,p.jsx)("p",{children:null!==T&&void 0!==T&&T.bio?null===T||void 0===T?void 0:T.bio:"Hey , Welcome To Moviea . This Profile has no Bio Yet , Enjoy Watching \ud83d\udc95"})]}),(null===T||void 0===T||null===(k=T.recentlyWatched)||void 0===k?void 0:k.length)>=1&&"public"==(null===T||void 0===T?void 0:T.recentlyWatchedPrivacy)&&(0,p.jsxs)("div",{className:"latestHolder",children:[(0,p.jsx)("h1",{children:"recently watched"}),(0,p.jsx)("div",{className:"wrapperLatest",children:null===T||void 0===T||null===(L=T.recentlyWatched)||void 0===L?void 0:L.map((l=>(0,p.jsxs)(x.rU,{to:null===l||void 0===l?void 0:l.redirectToWatch,className:"latest",children:[(0,p.jsx)("img",{src:null===l||void 0===l?void 0:l.image,alt:"latest"}),(0,p.jsxs)("span",{children:[(null===l||void 0===l?void 0:l.nameWhenTn)||(null===l||void 0===l?void 0:l.name),l.episode?" Ep - "+l.episode:""]}),(0,p.jsx)(r.Wxs,{})]})))})]})]})}),(0,p.jsx)("div",{className:"reviewSection",children:(0,p.jsxs)("div",{className:"reviewsHolder",children:[(0,p.jsx)("div",{className:"reviewsContainer",children:H.map(((l,e)=>(0,p.jsx)(t.Z,{level:"user",review:l,user:T},e)))}),!H.length&&(0,p.jsx)("div",{className:"noReviewHolder",children:"This User Have no Reviews Yet !"})]})})]})]})}}}]);