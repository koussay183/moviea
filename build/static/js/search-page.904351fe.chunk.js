"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[855],{9138:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var a=r(7313),c=r(798),i=r(2855),l=r(2135),n=r(1709),o=r(7452),d=r(2269),t=r(424),h=r(6417);const u=function(e){let{movies:s,setMovies:r}=e;const u=o.d.useState((e=>e.loading)),v=(0,t.s0)(),m=(0,t.TH)(),[g,x]=(0,a.useState)(null),[j,p]=(0,a.useState)(""),y=new URLSearchParams(m.search).get("q");return(0,a.useEffect)((()=>{if(console.log("SearchPage useEffect running with query:",y),!y)return void v("/");console.log("SearchPage received query:",y),p(y);(async e=>{try{console.log("Executing search for:",e);const s="https://api.themoviedb.org/3/search/multi?api_key=".concat(i.Z.apiKey,"&query=").concat(encodeURIComponent(e));console.log("Search URL:",s);const a=await c.Z.create({baseURL:"https://api.themoviedb.org/3"}).get("/search/multi?api_key=".concat(i.Z.apiKey,"&query=").concat(encodeURIComponent(e)));console.log("Search results:",a.data.results.length),r(a.data.results),x(null)}catch(g){console.error("Search error occurred:",g),x("An error occurred while searching. Please try again."),r([])}finally{o.d.update((e=>{e.loading=!1}))}})(y)}),[y,v]),(0,h.jsxs)("div",{className:"search_page",children:[u&&(0,h.jsx)("div",{className:"searchLoader",id:"searchLoader",children:(0,h.jsxs)("div",{id:"load",children:[(0,h.jsx)("div",{children:"G"}),(0,h.jsx)("div",{children:"N"}),(0,h.jsx)("div",{children:"I"}),(0,h.jsx)("div",{children:"D"}),(0,h.jsx)("div",{children:"A"}),(0,h.jsx)("div",{children:"O"}),(0,h.jsx)("div",{children:"L"})]})}),"      ",(0,h.jsx)("div",{id:"close_holder",children:(0,h.jsx)(l.rU,{to:"/",onClick:()=>{r([])},children:"\xd7"})}),(0,h.jsx)("div",{className:"all_movies_holder",children:(0,h.jsx)("div",{className:"inner_all_movies_holder",children:g?(0,h.jsxs)("div",{className:"emptyDataHolder",children:[(0,h.jsx)("img",{src:d.Z,alt:"error"}),(0,h.jsx)("h1",{children:g})]}):(0,h.jsxs)(h.Fragment,{children:[Array.isArray(s)&&s.map((e=>e&&0!==e.vote_average?(0,h.jsx)(n.Z,{movie:e,isLarge:!1},"search-".concat(e.id,"-").concat(e.media_type||"unknown")):null)),"              ",(!s||0===s.length)&&!u&&(0,h.jsxs)("div",{className:"emptyDataHolder",children:[(0,h.jsx)("img",{src:d.Z,alt:"empty"}),(0,h.jsxs)("h1",{children:['No results found for "',j,'"']})]})]})})})]})}}}]);