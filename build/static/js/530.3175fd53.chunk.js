"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[530],{4530:(e,a,t)=>{t.r(a),t.d(a,{default:()=>k});var s=t(7313),n=t(2855),o=t(5967),i=t(5662),l=t(2970),c=t(4021),d=t(6367),r=t(1081),h=t(8002),u=t(424),v=t(6417);const p=function(e){let{id:a}=e;const t=(0,d.useMediaQuery)({query:"(min-width: 789px)"}),o=(0,u.s0)(),[p,m,x]=(0,l.Z)({}),[_,j,g]=(0,l.Z)([]);(0,s.useEffect)((()=>{!async function(){const e=await i.Z.get("https://moviea-share.vercel.app/tv/".concat(a));!1!==e.success&&m((()=>(x({...e.data}),p))).then((e=>{g([...e.seasons])}))}()}),[a]);const b=e=>{const t=e.target.dataset.seasonname,s=e.target.dataset.seasonnumber,n=e.target.dataset.seasonposterpath;return r.q.update((e=>{e.tv_name=p.name||p.original_name,e.season_name=t,e.id=a,e.season_poster_path=n,e.season_number=s})),console.log(n),o("/tv/".concat(a,"/season/").concat(s,"/episodes"))};return(0,v.jsxs)("div",{className:"seasonsHolder",children:[(0,v.jsx)("h1",{children:"Seasons"}),t?(0,v.jsx)(c.Z,{dots:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,variableWidth:!0,adaptiveHeight:!1,infinite:!1,focusOnSelect:!0,arrows:!0,children:_.map(((e,a)=>e.episode_count>=1&&e.season_number>=1&&null!==e.poster_path?(0,v.jsxs)("div",{className:"season_holder MovieCard",id:"seasonCard",children:[(0,v.jsx)(h.Z,{src:n.Z.image_api+e.poster_path,id:a,alt:e.season_number,"data-seasonnumber":e.season_number,"data-seasonname":e.name,"data-seasonposterpath":e.poster_path,onClick:b}),(0,v.jsx)("h4",{className:"voteAvarage",children:(0,v.jsx)("span",{children:e.name})})]}):""))}):(0,v.jsx)("div",{className:"row__posters",children:_.map(((e,a)=>e.episode_count>=1&&e.season_number>=1&&null!==e.poster_path?(0,v.jsxs)("div",{className:"season_holder MovieCard",id:"seasonCard",children:[(0,v.jsx)(h.Z,{src:n.Z.image_api+e.poster_path,id:a,alt:e.season_number,"data-seasonnumber":e.season_number,"data-seasonname":e.name,"data-seasonposterpath":e.poster_path,onClick:b}),(0,v.jsx)("h4",{className:"voteAvarage",children:(0,v.jsx)("span",{children:e.name})})]}):""))})]})};var m=t(182),x=t(1709);const _=function(e){var a;let{movie:t}=e;const n=!(null===t||void 0===t||null===(a=t.belongs_to_collection)||void 0===a||!a.id)&&t.belongs_to_collection.id,[o,l]=(0,s.useState)({}),[c,d]=(0,s.useState)([]);return(0,s.useEffect)((()=>{if(!n)return!1;(async()=>{const e=await i.Z.get("https://moviea-share.vercel.app/movie/collection/".concat(n));l(e.data),d(e.data.parts)})()}),[n]),(0,v.jsxs)("div",{className:"collectionHolder",children:[(0,v.jsx)("h1",{children:"Collection"}),(0,v.jsx)("div",{className:"row__posters",children:c.map(((e,a)=>e.vote_average?(0,v.jsx)("div",{onClick:()=>{window.scrollTo(0,0)},children:(0,v.jsx)(x.Z,{movie:e,mediaType:"movie"},a)},a):""))})]})};var j=t(6672),g=t(2916),b=t(5828),y=t(7634),w=t(9625),f=t(2388),S=t(5655),N=t(3749);const k=function(e){let{watchList:a,watchListLen:t,setWatchList:c,setWatchListLen:r}=e;const{type:h,id:x}=(0,u.UO)(),k=(0,d.useMediaQuery)({query:"(max-width: 563px)"}),Z=(0,u.s0)(),[C,T]=(0,s.useState)(""),[W,L]=(0,s.useState)(!1),[I,A]=(0,s.useState)(!1),[D,H]=(0,s.useState)(!1),[M,q]=(0,s.useState)(!1),[E,z]=(0,s.useState)(!1),[U,F,Q]=(0,l.Z)({}),[J,O]=(0,s.useState)(!1),[Y,B]=(0,s.useState)(!1),[G,K]=(0,s.useState)(!0),[R,X]=(0,s.useState)([]),[$,P]=(0,s.useState)(""),[V,ee]=(0,s.useState)(""),[ae,te]=(0,s.useState)([]),se=(null===n.Z||void 0===n.Z?void 0:n.Z.image_api)+(null===U||void 0===U?void 0:U.backdrop_path),ne=(null===n.Z||void 0===n.Z?void 0:n.Z.image_api)+(null===U||void 0===U?void 0:U.poster_path),{title:oe,vote_average:ie,original_name:le,overview:ce}=U;(0,s.useEffect)((()=>{A(!1),document.documentElement.scrollTop=0,je(0),async function(){B(!0),z("tv"===h);const e=await i.Z.get("https://moviea-share.vercel.app/".concat(h,"/").concat(x));F((()=>(Q({...e.data}),U))).then((e=>{var a,t,s;(X([...e.genres]),P(e.release_date),"movie"===h)&&de(e.original_title+" "+(null===(t=e.release_date)||void 0===t?void 0:t.substring(0,4)),e.title+" "+(null===(s=e.release_date)||void 0===s?void 0:s.substring(0,4)));T(null===(a=e.videos.results[0])||void 0===a?void 0:a.key),null!==e&&void 0!==e&&e.belongs_to_collection?O(!0):O(!1),B(!1)}))}(),te([])}),[x,h]),(0,s.useEffect)((()=>{""!==a&&a.some((e=>e.movieId===U.id&&e.mediaType===h))&&A(!0)}),[x,U,h]);const de=async(e,a)=>{K(!0),ee("");try{var t;const a=await i.Z.get("https://moviea-share.vercel.app/movie/files/".concat(e));if("Not Found"!==(null===(t=a.data)||void 0===t?void 0:t.data)){const e=null===a||void 0===a?void 0:a.data.data;ee(e+"&output=embed"),te(a.data.download_links_movies)}}catch(n){var s;console.log(n);const e=await i.Z.get("https://moviea-share.vercel.app/movie/files/".concat(a));if("Not Found"!==(null===(s=e.data)||void 0===s?void 0:s.data)){const a=null===e||void 0===e?void 0:e.data.data;ee(a+"&output=embed"),te(e.data.download_links_movies)}}K(!1)},[re,he]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=new Image;e.onload=()=>{he(!0)},e.src=ne}),[ne]);const{user:ue,isAuthenticated:ve}=(0,f.D3)(),pe=(0,u.TH)(),[me,xe]=(0,s.useState)(!1),[_e,je]=(0,s.useState)(0);return(0,v.jsxs)("main",{children:[(0,v.jsxs)("div",{className:"all_about",style:{backgroundImage:"url(".concat(se,")"),minHeight:window.innerHeight-75.2,backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[(0,v.jsxs)(m.q,{children:[(0,v.jsx)("title",{children:oe||le}),(0,v.jsx)("meta",{name:"description",content:ce}),(0,v.jsx)("meta",{property:"og:type",content:"website"}),(0,v.jsx)("meta",{property:"og:url",content:"https://moviea.tn"}),(0,v.jsx)("meta",{property:"og:image",content:se})]}),(0,v.jsx)("div",{className:"cover"}),(0,v.jsxs)("div",{className:"inner_all_about",children:[(0,v.jsxs)("div",{className:"poster_holder",children:[!re&&(0,v.jsx)("div",{className:"posterLoadingSkeleton skeleton-box",children:"Loading..."}),re&&(0,v.jsx)("img",{src:ne,alt:x,loading:"lazy"})]}),(0,v.jsxs)("article",{className:"all_about_text_holder",children:[(0,v.jsxs)("h1",{style:{display:"flex",alignItems:"center",textAlign:"center",rowGap:"7px"},children:[oe||le,(0,v.jsxs)("span",{style:{fontSize:".7em",opacity:".7",marginLeft:"5px",display:"flex",alignItems:"center"},children:["("," ",Math.round(10*ie)/10,(0,v.jsx)(j.QJe,{height:"15px"})," ",")"]}),(0,v.jsx)("span",{style:{fontSize:".7em",opacity:".7",marginLeft:"5px"},children:$?"( ".concat($.substring(0,4)," )"):""})]}),(0,v.jsx)("div",{className:"genresHlder",children:R.map(((e,a)=>(0,v.jsxs)("span",{className:"genre",onClick:()=>Z("/discover/genre/".concat(e.id,"/").concat(e.name)),children:[e.name," "]},a)))}),E&&(0,v.jsxs)("h3",{className:"",children:[(0,v.jsxs)("span",{children:["number of seasons ",(0,v.jsx)("span",{children:null===U||void 0===U?void 0:U.number_of_seasons})," "]}),(0,v.jsxs)("span",{children:["episodes number ",(0,v.jsx)("span",{children:null===U||void 0===U?void 0:U.number_of_episodes})," "]})]}),!k&&(0,v.jsx)("p",{children:ce}),k&&(0,v.jsx)(w.Z,{text:ce,max:120}),(0,v.jsxs)("div",{className:"all_about_buttons_row",children:[!E&&(0,v.jsxs)("button",{id:"Trailer",onClick:()=>{H(!0),0==_e&&(je(1),(async()=>{const e=new Date,a=async()=>{if((new Date-e)/1e3>480&&ve&&ue){var t,s,n,o,i,l;const e=(0,N.JU)(S.db,"users",null===ue||void 0===ue?void 0:ue.sub),a=await(0,N.QT)(e),d={redirectToWatch:pe.pathname,nameWhenTn:"",name:oe||le,image:se};if(null!==(t=a.data())&&void 0!==t&&null!==(s=t.recentlyWatched)&&void 0!==s&&s.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)==pe.pathname)))return!1;if(null!==(n=a.data())&&void 0!==n&&n.recentlyWatched)if(null!==(o=a.data())&&void 0!==o&&o.recentlyWatched&&(null===(i=a.data())||void 0===i||null===(l=i.recentlyWatched)||void 0===l?void 0:l.length)<4)await(0,N.r7)(e,{recentlyWatched:(0,N.vr)(d)});else{var c;await(0,N.r7)(e,{recentlyWatched:(0,N.Ab)(null===(c=a.data())||void 0===c?void 0:c.recentlyWatched[0])}),await(0,N.r7)(e,{recentlyWatched:(0,N.vr)(d)})}else await(0,N.pl)(e,{...a.data(),recentlyWatched:[d]});return!0}setTimeout(a,1e3)};a()})())},className:"watchCTA",children:[(0,v.jsx)(g.KCr,{style:{fontSize:"1.2em"}})," Watch"]}),(0,v.jsxs)("button",{id:"Trailer",onClick:()=>L(!0),children:[(0,v.jsx)(g.Dp0,{})," trailer"]}),(0,v.jsxs)("button",{onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),xe(!0),console.log("Text copied to clipboard:",e)}catch(a){console.error("Unable to copy text to clipboard:",a)}})("https://moviea-share.vercel.app/share/"+h+"/"+x),children:[me?(0,v.jsx)(g.UgA,{}):(0,v.jsx)(g.C3L,{}),"  Share"]}),(0,v.jsxs)("button",{onClick:()=>Z("/casts/".concat(h,"/").concat(x,"/").concat(oe||le)),children:[(0,v.jsx)(g.WY8,{})," casts"]}),I?"":(0,v.jsx)("button",{id:"watchList",onClick:e=>{c([...a,{movieId:U.id,mediaType:h||U.media_type}]),localStorage.setItem("watchlist",JSON.stringify(a)),r(t++),e.target.style.display="none"},children:(0,v.jsx)(g.$aX,{})}),!E&&(0,v.jsxs)("button",{id:"downloadMovieButton",onClick:()=>q(!0),children:[(0,v.jsx)(g._hL,{}),"Download"]})]})]})]}),W&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>L(!1),children:(0,v.jsx)("div",{className:"youtube_vedio_holder",children:(0,v.jsx)(o.Z,{videoId:C,opts:{width:"100%",height:"400px"}})})}),D&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>H(!1),children:(0,v.jsx)("iframe",{title:"film",src:V||"https://vidsrc.me/embed/".concat(x,"/color-15006D"),width:"100%",height:"100%",id:"iframeWatchMovie",frameborder:"0",allowFullScreen:!0})}),M&&!E&&(0,v.jsx)("div",{className:"trailer_popup",onClick:()=>q(!1),children:(0,v.jsxs)("div",{className:"download_buttons_holder",children:[0===ae.length&&!G&&(0,v.jsx)("span",{children:"Download Links Not Available Yet"}),G&&(0,v.jsx)(y.Z,{color:"inherit"}),ae.map((e=>(0,v.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]})))]})})]}),E&&(0,v.jsx)(p,{id:x}),J&&(0,v.jsx)(_,{movie:U}),(0,v.jsx)(b.Z,{fetchUrl:"https://moviea-share.vercel.app/similar/".concat(h,"/").concat(x),isFirst:!1,isLarge:!1,mediaType:h,setIsLoading:B,title:"Similar"},"545455")]})}},1081:(e,a,t)=>{t.d(a,{q:()=>s});const s=new(t(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);