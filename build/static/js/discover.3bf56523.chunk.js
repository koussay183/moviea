"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[23],{9512:(e,s,n)=>{n.r(s),n.d(s,{default:()=>d});var t=n(798),a=n(7313),i=n(424),r=(n(2855),n(1709)),c=n(2269),o=n(7029),l=n(6417);const d=function(){const[e,s]=(0,a.useState)(!1),[n,d]=(0,a.useState)("movie"),{genreID:m,genreName:h}=(0,i.UO)(),[v,u]=(0,a.useState)([]),[f,j]=(0,a.useState)(1),x=(0,a.useRef)(),g=(0,a.useCallback)((s=>{e||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver((e=>{e[0].isIntersecting&&v.length>0&&j((e=>e+1))}),{threshold:.5}),s&&x.current.observe(s))}),[e,v.length]),p="/discover/".concat(n,"/").concat(m,"/").concat(f);return(0,a.useEffect)((()=>{(async()=>{s(!0);try{const e=await t.Z.get(p);u(1===f?e.data.results:s=>[...s,...e.data.results])}catch(e){console.error("Error fetching movies:",e)}finally{s(!1)}})()}),[n,m,f,p]),(0,l.jsxs)("div",{className:"Discover",children:[e&&(0,l.jsx)(o.Z,{}),(0,l.jsx)("h1",{children:h}),(0,l.jsxs)("div",{className:"mediaTypeHolder",children:[(0,l.jsx)("span",{onClick:()=>{d("movie"),u([]),j(1)},id:"movie",className:"movie"===n?"on":"off",children:"movies"}),(0,l.jsx)("span",{id:"tv",onClick:()=>{d("tv"),u([]),j(1)},className:"tv"===n?"on":"off",children:"tv shows"})]}),(0,l.jsxs)("div",{className:"inner_all_movies_holder",children:[v.length<1&&(0,l.jsxs)("div",{className:"emptyDataHolder",children:[(0,l.jsx)("img",{src:c.Z,alt:"empty"}),(0,l.jsx)("h1",{children:"no data for this genre yet"})]}),v.map(((e,s)=>v.length===s+1?(0,l.jsx)("div",{ref:g,children:(0,l.jsx)(r.Z,{mediaType:n,movie:e})},e.id||s):(0,l.jsx)(r.Z,{mediaType:n,movie:e},e.id||s)))]}),e&&(0,l.jsx)("div",{className:"loading",children:"Loading more..."})]})}}}]);