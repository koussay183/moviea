"use strict";(self.webpackChunkmoviea=self.webpackChunkmoviea||[]).push([[803],{8002:(e,n,a)=>{a.d(n,{Z:()=>i});var o=a(7313),t=a(6417);const i=function(e){const[n,a]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{let n=!0;a(!1);const o=new Image;return o.onload=()=>{n&&a(!0)},o.src=e.src,()=>{n=!1,o.onload=null}}),[e.src]),(0,t.jsxs)(t.Fragment,{children:[!n&&(0,t.jsx)("div",{className:"skeleton-box"}),n&&(0,t.jsx)("img",{src:e.src,...e})]})}},5901:(e,n,a)=>{a.r(n),a.d(n,{default:()=>b});var o=a(7313),t=a(798),i=a(2855),s=a(6672),d=a(9768),l=a(3283),c=a(3749),r=a(424),v=a(4850),u=a(6417);const h=function(e){let{currentWatchNow:n,embidLink:a,tn:t,nameWhenTn:s,currentEpisode:h,SeName:m}=e;const{season:p,id:x,episode:g}=n,{currentUser:j}=(0,v.aC)(),w=(0,r.TH)(),[_,b]=(0,o.useState)(0),f="https://vidsrc.me/embed/".concat(x,"/").concat(p,"-").concat(g,"/color-15006D");(0,o.useEffect)((()=>{b(0)}),[n,h]);const y=async()=>{const e=new Date,a=async()=>{if((new Date-e)/1e3>480&&j){var o,d,r,v,u,p;const e=(0,c.JU)(l.db,"users",j.uid),a=await(0,c.QT)(e),b={redirectToWatch:w.pathname,nameWhenTn:s,name:m,image:t?null===h||void 0===h?void 0:h.imageUrl:i.Z.image_api+(null===h||void 0===h?void 0:h.still_path),episode:null===n||void 0===n?void 0:n.episode};var x,g;if(null!==(o=a.data())&&void 0!==o&&null!==(d=o.recentlyWatched)&&void 0!==d&&d.some((e=>(null===e||void 0===e?void 0:e.redirectToWatch)===w.pathname)))await(0,c.r7)(e,{recentlyWatched:(0,c.Ab)(null===(x=a.data())||void 0===x||null===(g=x.recentlyWatched)||void 0===g?void 0:g.find((e=>e.redirectToWatch===w.pathname)))}),await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(b)});else if(null!==(r=a.data())&&void 0!==r&&r.recentlyWatched)if(null!==(v=a.data())&&void 0!==v&&v.recentlyWatched&&(null===(u=a.data())||void 0===u||null===(p=u.recentlyWatched)||void 0===p?void 0:p.length)<4)await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(b)});else{var _;await(0,c.r7)(e,{recentlyWatched:(0,c.Ab)(null===(_=a.data())||void 0===_?void 0:_.recentlyWatched[0])}),await(0,c.r7)(e,{recentlyWatched:(0,c.vr)(b)})}else await(0,c.pl)(e,{...a.data(),recentlyWatched:[b]});return!0}setTimeout(a,1e3)};a()};return(0,u.jsx)("div",{className:"watchEpisodeHolder",children:(0,u.jsx)("main",{style:{width:"100%",height:"100%"},children:t?a&&(0,u.jsx)(d.Z,{src:"https://content.shofha.com/shofhacms/getSourceFile?rshosamah=".concat(a),autoPlay:!1,controls:!0,width:"100%",height:"400px",style:{borderRadius:"10px"},className:"hslPlayer",id:"hlsPlayer",onClick:()=>{0===_&&(y(),b(1))}}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("iframe",{src:f,width:"100%",height:"100%",allowFullScreen:!0,id:"watchIframe",webkitallowfullscreen:"true",mozallowfullscreen:"true",title:g,onLoad:()=>{y()}})})})})};var m=a(2916),p=a(1081),x=a(7029),g=a(6367),j=a(8002),w=a(182);const _=function(e){var n,a,d,l,c,v,_,b,f,y,S;let{SeName:N,tn:k}=e;const{id:E,seasonNumber:W,episodeId:T}=(0,r.UO)(),C=(0,g.useMediaQuery)({query:"(max-width: 563px)"}),Z=p.q.useState((e=>e)),[U,A]=(0,o.useState)([]),[O,D]=(0,o.useState)(T||1),F=(0,r.s0)(),[L,q]=(0,o.useState)({id:E,season:W,episode:O}),[M,I]=(0,o.useState)(),[H,P]=(0,o.useState)(!1),[Q,J]=(0,o.useState)(""),[Y,R]=(0,o.useState)({}),[z,B]=(0,o.useState)(!1);(0,o.useEffect)((()=>{!async function(){if(k){var e,n,a,o;P(!0);const i=await t.Z.get("/arabic/files/".concat(E));return R(i.data),J(null===(e=i.data)||void 0===e?void 0:e.name_en),A(null===(n=i.data)||void 0===n?void 0:n.contentFilesEpisodesDTOs),I(null===(a=i.data)||void 0===a||null===(o=a.contentFilesEpisodesDTOs[0])||void 0===o?void 0:o.id),P(!1),!0}if(Z&&Z.id){const e=await t.Z.get("/tv/season/".concat(Z.id,"/").concat(Z.season_number));A(e.data.episodes),R(e.data)}else{const e=await t.Z.get("/tv/season/".concat(E,"/").concat(W));R(e.data),A(e.data.episodes),ne(e.data.download_ep_links),oe(e.data.download_season_links)}}()}),[Z]),(0,o.useEffect)((()=>{k||(async()=>{P(!0),I(""),setTimeout((()=>{P(!1)}),3e3);try{var e;const n=await t.Z.get("/tv/files/".concat(N,"/").concat(L.season,"/").concat(L.episode));if("Not Found"!==(null===(e=n.data)||void 0===e?void 0:e.data)){const e=null===n||void 0===n?void 0:n.data.data;I(e+"&output=embed"),ne(n.data.download_ep_links),oe(n.data.download_season_links)}else console.log("didnt found the ep"),I("")}catch(n){console.log("didnt found the ep"),I("")}})()}),[L.season,E,L.episode,N]);const X=e=>{const n=e.target.dataset.episodenumber;D(n),k?(F("/tn/tv/".concat(E,"?ep=").concat(n),{replace:!0}),I(e.target.dataset.contenturl)):F("/tv/".concat(E,"/season/").concat(W,"/episodes/").concat(n),{replace:!0}),q({...L,episode:n})},[$,G]=(0,o.useState)(!1),[K,V]=(0,o.useState)(!1),[ee,ne]=(0,o.useState)([]),[ae,oe]=(0,o.useState)([]);return(0,u.jsxs)(u.Fragment,{children:[H&&(0,u.jsx)(x.Z,{}),(0,u.jsxs)(w.q,{children:[(0,u.jsx)("title",{children:(null===Y||void 0===Y||null===(n=Y.contentSEO)||void 0===n?void 0:n.titleArSEO)||"Moviea | Watch Free"}),(0,u.jsx)("meta",{name:"description",content:null===Y||void 0===Y||null===(a=Y.contentSEO)||void 0===a?void 0:a.descriptionArSEO}),(0,u.jsx)("meta",{name:"keywords",content:null===Y||void 0===Y||null===(d=Y.contentSEO)||void 0===d?void 0:d.keywordsArSEO})]}),k&&(0,u.jsx)("article",{className:"headerOfTnTv",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(null===Y||void 0===Y?void 0:Y.previewImageUrl,")")},children:(0,u.jsxs)("div",{className:"innerTnTvArticle",children:[(0,u.jsx)("img",{src:null===Y||void 0===Y?void 0:Y.imageUrl}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{children:[null===Y||void 0===Y?void 0:Y.name_en," ",(0,u.jsxs)("span",{children:["( ",null===Y||void 0===Y?void 0:Y.productionYear," )\xa0 ( ",null===Y||void 0===Y?void 0:Y.rating," )"]})]}),(0,u.jsxs)("h2",{children:[" ",(null===Y||void 0===Y?void 0:Y.genre_en)&&(0,u.jsx)("span",{children:null===Y||void 0===Y?void 0:Y.genre_en})," ",(null===Y||void 0===Y?void 0:Y.category_en)&&(0,u.jsxs)("span",{children:[" ",null===Y||void 0===Y?void 0:Y.category_en]})]}),(0,u.jsx)("p",{children:null===Y||void 0===Y?void 0:Y.description_en}),(0,u.jsxs)("div",{className:"all_about_buttons_row",children:[(0,u.jsxs)("button",{onClick:()=>(async e=>{if(navigator.share)navigator.share({title:"Moviea",text:"Watch Free",url:e}).then((()=>B(!0))).catch((e=>console.log("Error sharing",e)));else try{await navigator.clipboard.writeText(e),B(!0),console.log("Text copied to clipboard:",e)}catch(n){console.error("Unable to copy text to clipboard:",n)}})("https://moviea-share.onrender.com/share/tn/"+E),children:[z?(0,u.jsx)(m.UgA,{}):(0,u.jsx)(m.C3L,{}),"  Share"]}),(0,u.jsxs)("button",{onClick:()=>console.log("working on it \ud83d\ude0a"),children:[(0,u.jsx)(m.$aX,{})," Like"]})]})]})]})}),(0,u.jsx)("h1",{id:"banner",children:k?"Episodes":"Season ".concat(W," ").concat(N)}),$&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>G(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==ee&&void 0!==ee&&ee.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===ee||void 0===ee?void 0:ee.map(((e,n)=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]},"ep-download-".concat(n,"-").concat(null===e||void 0===e?void 0:e.quality,"-").concat(null===e||void 0===e?void 0:e.resolution))))]})}),K&&(0,u.jsx)("div",{className:"trailer_popup",onClick:()=>V(!1),children:(0,u.jsxs)("div",{className:"download_buttons_holder",children:[!(null!==ae&&void 0!==ae&&ae.length)&&(0,u.jsx)("span",{children:"Download Links Not Available Yet"}),null===ae||void 0===ae?void 0:ae.map(((e,n)=>(0,u.jsxs)("a",{href:null===e||void 0===e?void 0:e.download_url,children:[null===e||void 0===e?void 0:e.quality," ",null===e||void 0===e?void 0:e.resolution]},"season-download-".concat(n,"-").concat(null===e||void 0===e?void 0:e.quality,"-").concat(null===e||void 0===e?void 0:e.resolution))))]})}),(0,u.jsxs)("div",{className:"watchArabicHolder",children:[(0,u.jsxs)("div",{className:"SeasonEpisodes",children:[(0,u.jsx)("h1",{children:k?Q:"Season ".concat(W," ").concat(N)}),(0,u.jsx)("div",{className:"column__posters",children:U.map(((e,n)=>{var a,o;return e.still_path||k?(0,u.jsxs)("div",{className:"MovieCard episode_holder",id:"episodeCard",children:[(0,u.jsx)(j.Z,{src:k?(null===e||void 0===e?void 0:e.imageUrl)||(null===e||void 0===e?void 0:e.poster):i.Z.image_api+e.still_path,id:n,alt:k?n+1:e.episode_number,"data-episodenumber":k?n+1:e.episode_number,"data-episodename":k?null===e||void 0===e?void 0:e.name_en:e.name,"data-contentUrl":k?null===e||void 0===e?void 0:e.id:"",onClick:X}),(0,u.jsxs)("h4",{className:"voteAvarage",children:[(0,u.jsxs)("p",{children:["episode ",e.episode_number||n+1]}),(0,u.jsxs)("span",{children:[k?Math.round(10*((null===(a=U[O-1])||void 0===a?void 0:a.rating)||(null===Y||void 0===Y?void 0:Y.rating)))/10:Math.round(10*(null===(o=U[O-1])||void 0===o?void 0:o.vote_average))/10,(0,u.jsx)(s.QJe,{})]})]})]},"episode-".concat(k?n+1:e.episode_number,"-").concat(E)):""}))})]}),(0,u.jsxs)("div",{className:"watch_now_ep",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url(".concat(k?(null===(c=U[O-1])||void 0===c?void 0:c.imageUrl)||(null===(v=U[O-1])||void 0===v?void 0:v.poster):(null===i.Z||void 0===i.Z?void 0:i.Z.image_api)+(null===(l=U[O-1])||void 0===l?void 0:l.still_path),")")},children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{children:["Episode ",O," ",!C&&!k&&":"+(null===(_=U[O-1])||void 0===_?void 0:_.name)+" "]}),(0,u.jsxs)("h3",{children:[k?Math.round(10*(null===(b=U[O-1])||void 0===b?void 0:b.rating))/10:Math.round(10*(null===(f=U[O-1])||void 0===f?void 0:f.vote_average))/10," ",(0,u.jsx)(s.QJe,{style:{marginLeft:".2em",marginRight:".2em"}})," |"," ",k?null===(y=U[O-1])||void 0===y?void 0:y.duration:null===(S=U[O-1])||void 0===S?void 0:S.runtime,"mn"]})]}),(0,u.jsx)(h,{currentWatchNow:L,SeName:N,embidLink:M,tn:k,nameWhenTn:Q,currentEpisode:U[O]}),!k&&(0,u.jsxs)("div",{className:"DownloadTvButtonsHolder",children:[(0,u.jsxs)("button",{onClick:()=>G(!0),children:[(0,u.jsx)(m._hL,{}),"Download Episode ",O]}),(0,u.jsxs)("button",{onClick:()=>V(!0),children:[(0,u.jsx)(m._hL,{}),"Download This Season"]})]})]})]})]})};const b=function(e){let{tn:n}=e;const{id:a,seasonNumber:i,episodeId:s}=(0,r.UO)(),[d,l]=(0,o.useState)("");return(0,o.useEffect)((()=>{n||async function(){const e=await t.Z.get("/tv/".concat(a));l(e.data.name)}()}),[a,i,s,n]),(0,u.jsx)("div",{className:"SeasonEpisodesPage",children:(0,u.jsx)(_,{SeName:d,tn:n})})}},1081:(e,n,a)=>{a.d(n,{q:()=>o});const o=new(a(7387).yh)({tv_name:"",season_number:0,season_name:"",id:0,season_poster_path:""})}}]);